{
  "_path": "/articles/javascript/curryandasync",
  "_dir": "javascript",
  "_draft": false,
  "_partial": false,
  "_locale": "zh-Hans",
  "_empty": false,
  "title": "柯里化在异步编程的应用",
  "description": "",
  "body": {
    "type": "root",
    "children": [
      {
        "type": "element",
        "tag": "h2",
        "props": { "id": "柯里化" },
        "children": [{ "type": "text", "value": "柯里化" }]
      },
      {
        "type": "element",
        "tag": "p",
        "props": {},
        "children": [
          {
            "type": "text",
            "value": "js 中函数作为一等公民,函数执行中既可以作为函数的参数也可以作为函数的返回值,而这类执行函数叫做高阶函数,利用高阶函数的特性很容易就可以实现柯里化("
          },
          {
            "type": "element",
            "tag": "em",
            "props": {},
            "children": [
              {
                "type": "text",
                "value": "柯里化(Currying)是把接受多个参数的函数变换成接受一个单一参数(最初函数的第一个参数)的函数，并且返回接受余下的参数且返回结果的新函数的技术"
              }
            ]
          },
          { "type": "text", "value": "),根据百科的理解大概就是下面的例子。" }
        ]
      },
      {
        "type": "element",
        "tag": "code",
        "props": {
          "code": "function add(x, y) {\n  return x + y\n}\nfunction curryind_add(x) {\n  return function(y) {\n    return x + y\n  }\n}\nconst curried_add = curryind_add(1)\ncurried_add(2) // 3\ncurried_add(3) // 4\n",
          "language": "js",
          "meta": null
        },
        "children": [
          {
            "type": "element",
            "tag": "pre",
            "props": {},
            "children": [
              {
                "type": "element",
                "tag": "code",
                "props": { "__ignoreMap": "" },
                "children": [
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 1 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-aebb93" },
                        "children": [{ "type": "text", "value": "function" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "add" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "(" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "x" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ", " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "y" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ") {\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 2 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "  " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-395d0c" },
                        "children": [{ "type": "text", "value": "return" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "x" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " + " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "y\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 3 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "}\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 4 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-aebb93" },
                        "children": [{ "type": "text", "value": "function" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "curryind_add" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "(" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "x" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ") {\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 5 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "  " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-395d0c" },
                        "children": [{ "type": "text", "value": "return" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-aebb93" },
                        "children": [{ "type": "text", "value": "function" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "(" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "y" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ") {\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 6 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "    " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-395d0c" },
                        "children": [{ "type": "text", "value": "return" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "x" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " + " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "y\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 7 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "  }\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 8 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "}\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 9 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-aebb93" },
                        "children": [{ "type": "text", "value": "const" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-35c78c" },
                        "children": [{ "type": "text", "value": "curried_add" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " = " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "curryind_add" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "(" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-d06041" },
                        "children": [{ "type": "text", "value": "1" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ")\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 10 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "curried_add" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "(" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-d06041" },
                        "children": [{ "type": "text", "value": "2" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ") " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-a0ded6" },
                        "children": [{ "type": "text", "value": "// 3\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 11 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "curried_add" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "(" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-d06041" },
                        "children": [{ "type": "text", "value": "3" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ") " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-a0ded6" },
                        "children": [{ "type": "text", "value": "// 4" }]
                      }
                    ]
                  }
                ]
              }
            ]
          }
        ]
      },
      {
        "type": "element",
        "tag": "p",
        "props": {},
        "children": [
          {
            "type": "text",
            "value": "从例子可以看出,柯里化有防止参数重复的作用,而且具有延迟执行的特征。下面利用柯里化的特征看看在异步编程的应用,在开始时先简单介绍一下 async/await 的原理。"
          }
        ]
      },
      {
        "type": "element",
        "tag": "h2",
        "props": { "id": "generator-和-promise" },
        "children": [{ "type": "text", "value": "Generator 和 promise" }]
      },
      {
        "type": "element",
        "tag": "p",
        "props": {},
        "children": [
          { "type": "text", "value": "async/await 语法其实是 Generator 和 promise 的语法糖。" }
        ]
      },
      {
        "type": "element",
        "tag": "p",
        "props": {},
        "children": [
          {
            "type": "text",
            "value": "Generator 函数执行时会返回一个生成器对象,该对象是一个特殊的迭代器对象,而且本身也是一个可迭代对象("
          },
          {
            "type": "element",
            "tag": "a",
            "props": {
              "href": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols#The_iterable_protocol",
              "rel": ["nofollow"]
            },
            "children": [{ "type": "text", "value": "迭代器对象和可迭代对象" }]
          },
          { "type": "text", "value": "),下面说说其特殊性。" }
        ]
      },
      {
        "type": "element",
        "tag": "code",
        "props": {
          "code": "function *generator() {\n  const value = yield 1\n  console.log(value)\n  try { // 捕获错误\n    yield 2\n  } catch(e) {\n    console.log(e)\n  }\n}\nconst iterator = generator();\niterator === iterator[Symbol.iterator](); // true 自身部署了可迭代接口,该接口返回自身\n[...iterator] // [1, 2]\n\nconst iterator2 = generator(); // 迭代器对象是一次消耗的,需要重新起一个迭代器\niterator2.next() // {value: 1, done: false}\niterator2.next(`value 的值`) // 利用 next 向生成器函数发送数据\niterator2.throw(new Error('error')) // 利用 throw 向生成器函数抛出错误\n",
          "language": "js",
          "meta": null
        },
        "children": [
          {
            "type": "element",
            "tag": "pre",
            "props": {},
            "children": [
              {
                "type": "element",
                "tag": "code",
                "props": { "__ignoreMap": "" },
                "children": [
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 1 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-aebb93" },
                        "children": [{ "type": "text", "value": "function" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-aebb93" },
                        "children": [{ "type": "text", "value": "*" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "generator" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "() {\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 2 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "  " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-aebb93" },
                        "children": [{ "type": "text", "value": "const" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-35c78c" },
                        "children": [{ "type": "text", "value": "value" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " = " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-395d0c" },
                        "children": [{ "type": "text", "value": "yield" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-d06041" },
                        "children": [{ "type": "text", "value": "1\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 3 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "  " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "console" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "." }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "log" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "(" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "value" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ")\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 4 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "  " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-395d0c" },
                        "children": [{ "type": "text", "value": "try" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " { " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-a0ded6" },
                        "children": [{ "type": "text", "value": "// 捕获错误\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 5 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "    " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-395d0c" },
                        "children": [{ "type": "text", "value": "yield" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-d06041" },
                        "children": [{ "type": "text", "value": "2\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 6 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "  } " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-395d0c" },
                        "children": [{ "type": "text", "value": "catch" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "(" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "e" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ") {\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 7 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "    " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "console" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "." }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "log" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "(" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "e" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ")\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 8 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "  }\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 9 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "}\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 10 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-aebb93" },
                        "children": [{ "type": "text", "value": "const" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-35c78c" },
                        "children": [{ "type": "text", "value": "iterator" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " = " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "generator" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "();\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 11 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "iterator" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " === " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "iterator" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "[" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "Symbol" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "." }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "iterator" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "](); " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-a0ded6" },
                        "children": [
                          {
                            "type": "text",
                            "value": "// true 自身部署了可迭代接口,该接口返回自身\n"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 12 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "[..." }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "iterator" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "] " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-a0ded6" },
                        "children": [{ "type": "text", "value": "// [1, 2]\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 13 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": {},
                        "children": [{ "type": "text", "value": "\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 14 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-aebb93" },
                        "children": [{ "type": "text", "value": "const" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-35c78c" },
                        "children": [{ "type": "text", "value": "iterator2" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " = " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "generator" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "(); " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-a0ded6" },
                        "children": [
                          {
                            "type": "text",
                            "value": "// 迭代器对象是一次消耗的,需要重新起一个迭代器\n"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 15 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "iterator2" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "." }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "next" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "() " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-a0ded6" },
                        "children": [{ "type": "text", "value": "// {value: 1, done: false}\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 16 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "iterator2" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "." }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "next" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "(" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-25584a" },
                        "children": [{ "type": "text", "value": "`value 的值`" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ") " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-a0ded6" },
                        "children": [
                          { "type": "text", "value": "// 利用 next 向生成器函数发送数据\n" }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 17 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "iterator2" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "." }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "throw" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "(" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-aebb93" },
                        "children": [{ "type": "text", "value": "new" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "Error" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "(" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-25584a" },
                        "children": [{ "type": "text", "value": "'error'" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ")) " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-a0ded6" },
                        "children": [
                          { "type": "text", "value": "// 利用 throw 向生成器函数抛出错误" }
                        ]
                      }
                    ]
                  }
                ]
              }
            ]
          }
        ]
      },
      {
        "type": "element",
        "tag": "p",
        "props": {},
        "children": [
          {
            "type": "text",
            "value": "从上面的例子可以看出,生成器对象,在迭代的过程中是可以和生成器函数进行通信的,如果用在 promise 中,只要把 promise 在状态改变后执行的回调结果回传到生成器函数内就可以实现类似async/await 的效果。而迭代过程,可以实现一个执行器函数进行迭代,这个函数就类似于执行 async。"
          }
        ]
      },
      {
        "type": "element",
        "tag": "code",
        "props": {
          "code": "function createDelayPromise (time) {\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      resolve(time)\n    }, time)\n  })\n} \n\nfunction *createIterator() {\n  const time1 = yield createDelayPromise(1000)\n  console.log(time1)\n  const time2 = yield createDelayPromise(2000)\n  console.log(time2)\n  const time3 = yield createDelayPromise(3000)\n  console.log(time3)\n  return time1 + time2 + time3\n}\n\nfunction run(createIterator) {\n  const iterator = createIterator()\n  let result = iterator.next()\n  let r  \n  const p = new Promise(resolve => {\n    r = resolve\n  })\n  function next() {\n    if (result.done) {\n      r(result.value)\n    } else {\n      Promise.resolve(result.value).then(value => {\n        result = iterator.next(value)\n        next()\n      }).catch((err) => {\n        result = iterator.throw(err)\n        next()\n      })\n    }\n  }\n  next()\n  return p\n}\n\nrun(createIterator).then((value) => {\n  console.log(value)\n})\n",
          "language": "js",
          "meta": null
        },
        "children": [
          {
            "type": "element",
            "tag": "pre",
            "props": {},
            "children": [
              {
                "type": "element",
                "tag": "code",
                "props": { "__ignoreMap": "" },
                "children": [
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 1 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-aebb93" },
                        "children": [{ "type": "text", "value": "function" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "createDelayPromise" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " (" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "time" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ") {\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 2 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "  " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-395d0c" },
                        "children": [{ "type": "text", "value": "return" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-aebb93" },
                        "children": [{ "type": "text", "value": "new" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-5850a1" },
                        "children": [{ "type": "text", "value": "Promise" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "((" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "resolve" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ") " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-aebb93" },
                        "children": [{ "type": "text", "value": "=>" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " {\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 3 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "    " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "setTimeout" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "(() " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-aebb93" },
                        "children": [{ "type": "text", "value": "=>" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " {\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 4 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "      " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "resolve" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "(" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "time" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ")\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 5 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "    }, " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "time" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ")\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 6 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "  })\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 7 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "} \n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 8 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": {},
                        "children": [{ "type": "text", "value": "\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 9 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-aebb93" },
                        "children": [{ "type": "text", "value": "function" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-aebb93" },
                        "children": [{ "type": "text", "value": "*" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "createIterator" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "() {\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 10 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "  " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-aebb93" },
                        "children": [{ "type": "text", "value": "const" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-35c78c" },
                        "children": [{ "type": "text", "value": "time1" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " = " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-395d0c" },
                        "children": [{ "type": "text", "value": "yield" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "createDelayPromise" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "(" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-d06041" },
                        "children": [{ "type": "text", "value": "1000" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ")\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 11 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "  " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "console" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "." }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "log" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "(" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "time1" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ")\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 12 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "  " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-aebb93" },
                        "children": [{ "type": "text", "value": "const" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-35c78c" },
                        "children": [{ "type": "text", "value": "time2" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " = " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-395d0c" },
                        "children": [{ "type": "text", "value": "yield" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "createDelayPromise" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "(" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-d06041" },
                        "children": [{ "type": "text", "value": "2000" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ")\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 13 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "  " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "console" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "." }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "log" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "(" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "time2" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ")\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 14 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "  " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-aebb93" },
                        "children": [{ "type": "text", "value": "const" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-35c78c" },
                        "children": [{ "type": "text", "value": "time3" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " = " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-395d0c" },
                        "children": [{ "type": "text", "value": "yield" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "createDelayPromise" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "(" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-d06041" },
                        "children": [{ "type": "text", "value": "3000" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ")\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 15 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "  " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "console" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "." }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "log" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "(" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "time3" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ")\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 16 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "  " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-395d0c" },
                        "children": [{ "type": "text", "value": "return" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "time1" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " + " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "time2" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " + " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "time3\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 17 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "}\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 18 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": {},
                        "children": [{ "type": "text", "value": "\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 19 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-aebb93" },
                        "children": [{ "type": "text", "value": "function" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "run" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "(" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "createIterator" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ") {\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 20 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "  " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-aebb93" },
                        "children": [{ "type": "text", "value": "const" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-35c78c" },
                        "children": [{ "type": "text", "value": "iterator" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " = " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "createIterator" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "()\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 21 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "  " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-aebb93" },
                        "children": [{ "type": "text", "value": "let" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "result" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " = " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "iterator" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "." }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "next" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "()\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 22 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "  " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-aebb93" },
                        "children": [{ "type": "text", "value": "let" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "r" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "  \n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 23 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "  " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-aebb93" },
                        "children": [{ "type": "text", "value": "const" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-35c78c" },
                        "children": [{ "type": "text", "value": "p" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " = " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-aebb93" },
                        "children": [{ "type": "text", "value": "new" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-5850a1" },
                        "children": [{ "type": "text", "value": "Promise" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "(" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "resolve" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-aebb93" },
                        "children": [{ "type": "text", "value": "=>" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " {\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 24 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "    " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "r" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " = " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "resolve\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 25 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "  })\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 26 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "  " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-aebb93" },
                        "children": [{ "type": "text", "value": "function" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "next" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "() {\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 27 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "    " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-395d0c" },
                        "children": [{ "type": "text", "value": "if" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " (" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "result" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "." }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "done" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ") {\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 28 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "      " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "r" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "(" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "result" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "." }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "value" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ")\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 29 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "    } " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-395d0c" },
                        "children": [{ "type": "text", "value": "else" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " {\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 30 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "      " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-5850a1" },
                        "children": [{ "type": "text", "value": "Promise" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "." }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "resolve" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "(" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "result" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "." }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "value" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ")." }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "then" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "(" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "value" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-aebb93" },
                        "children": [{ "type": "text", "value": "=>" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " {\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 31 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "        " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "result" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " = " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "iterator" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "." }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "next" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "(" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "value" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ")\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 32 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "        " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "next" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "()\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 33 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "      })." }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "catch" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "((" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "err" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ") " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-aebb93" },
                        "children": [{ "type": "text", "value": "=>" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " {\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 34 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "        " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "result" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " = " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "iterator" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "." }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "throw" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "(" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "err" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ")\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 35 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "        " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "next" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "()\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 36 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "      })\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 37 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "    }\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 38 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "  }\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 39 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "  " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "next" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "()\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 40 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "  " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-395d0c" },
                        "children": [{ "type": "text", "value": "return" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "p\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 41 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "}\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 42 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": {},
                        "children": [{ "type": "text", "value": "\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 43 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "run" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "(" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "createIterator" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ")." }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "then" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "((" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "value" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ") " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-aebb93" },
                        "children": [{ "type": "text", "value": "=>" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " {\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 44 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "  " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "console" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "." }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "log" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "(" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "value" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ")\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 45 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "})" }]
                      }
                    ]
                  }
                ]
              }
            ]
          }
        ]
      },
      {
        "type": "element",
        "tag": "p",
        "props": {},
        "children": [
          {
            "type": "text",
            "value": "上面使用 createDelayPromise 封装了一个 promise 类型的异步任务,然后使用 next 方法去迭代这个迭代器对象。等待对应的异步任务有结果后就通过生成器对象的 next 和 throw 方法把结果回传到生成器函数中。"
          },
          { "type": "element", "tag": "br", "props": {}, "children": [] },
          {
            "type": "text",
            "value": "\n上面是使用 promise 配合 generator 可以让异步代码以类似同步的形式写在生成器函数中,同样地对应柯里化后的函数,同样具有延迟执行的效果,也可以通过配合 generator 实现类似的效果。"
          }
        ]
      },
      {
        "type": "element",
        "tag": "h2",
        "props": { "id": "generator-和-柯里化" },
        "children": [{ "type": "text", "value": "Generator 和 柯里化" }]
      },
      {
        "type": "element",
        "tag": "p",
        "props": {},
        "children": [
          {
            "type": "text",
            "value": "除了一些接口是实现了 promise 化外,有很多比较久的接口依然是使用 callback 类型的接口,像 node 中的很多接口会把 callback 参数放在参数列表的末尾,并把 err 放在回调执行的第一个位置,类似这样"
          }
        ]
      },
      {
        "type": "element",
        "tag": "code",
        "props": {
          "code": "function createDelayCurry (time, callback) {\n  setTimeout(() => {\n    callback(null, time)\n  }, time)\n} \n",
          "language": "js",
          "meta": null
        },
        "children": [
          {
            "type": "element",
            "tag": "pre",
            "props": {},
            "children": [
              {
                "type": "element",
                "tag": "code",
                "props": { "__ignoreMap": "" },
                "children": [
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 1 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-aebb93" },
                        "children": [{ "type": "text", "value": "function" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "createDelayCurry" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " (" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "time" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ", " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "callback" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ") {\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 2 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "  " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "setTimeout" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "(() " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-aebb93" },
                        "children": [{ "type": "text", "value": "=>" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " {\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 3 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "    " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "callback" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "(" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-aebb93" },
                        "children": [{ "type": "text", "value": "null" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ", " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "time" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ")\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 4 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "  }, " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "time" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ")\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 5 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "} " }]
                      }
                    ]
                  }
                ]
              }
            ]
          }
        ]
      },
      {
        "type": "element",
        "tag": "p",
        "props": {},
        "children": [
          {
            "type": "text",
            "value": "下面通过实现不同以上的 run 方法,结合柯里化实现以上的效果,这次 yield 后面不再是 promise 化后的对象,而是柯里化后的函数"
          },
          { "type": "element", "tag": "br", "props": {}, "children": [] },
          { "type": "text", "value": "\n在开始之前先实现一个通用的 curry 函数" }
        ]
      },
      {
        "type": "element",
        "tag": "code",
        "props": {
          "code": "const curry = (fn, ...args) => fn.length <= args.length ? fn(...args) : curry.bind(null, fn, ...args);\n",
          "language": "js",
          "meta": null
        },
        "children": [
          {
            "type": "element",
            "tag": "pre",
            "props": {},
            "children": [
              {
                "type": "element",
                "tag": "code",
                "props": { "__ignoreMap": "" },
                "children": [
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 1 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-aebb93" },
                        "children": [{ "type": "text", "value": "const" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "curry" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " = (" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "fn" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ", ..." }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "args" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ") " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-aebb93" },
                        "children": [{ "type": "text", "value": "=>" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "fn" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "." }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "length" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " <= " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "args" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "." }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "length" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " ? " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "fn" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "(..." }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "args" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ") : " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "curry" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "." }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "bind" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "(" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-aebb93" },
                        "children": [{ "type": "text", "value": "null" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ", " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "fn" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ", ..." }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "args" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ");" }]
                      }
                    ]
                  }
                ]
              }
            ]
          }
        ]
      },
      {
        "type": "element",
        "tag": "p",
        "props": {},
        "children": [
          {
            "type": "text",
            "value": "这个 curry 函数的作用是等初始存入的函数的参数收集够就执行,如果不够就继续收集,下面会在迭代中补上回调参数,这样异步任务才可以执行。"
          }
        ]
      },
      {
        "type": "element",
        "tag": "code",
        "props": {
          "code": "const curry = (fn, ...args) => fn.length <= args.length ? fn(...args) : curry.bind(null, fn, ...args);\n\nfunction createDelayCurry (time, callback) {\n  setTimeout(() => {\n    callback(null, time)\n  }, time)\n} \n\nconst curringDelay = curry(createDelayCurry)\n\nfunction *createIterator() {\n  const time1 = yield curringDelay(1000)\n  console.log(time1)\n  const time2 = yield curringDelay(2000)\n  console.log(time2)\n  const time3 = yield curringDelay(3000)\n  console.log(time3)\n  return time1 + time2 + time3\n}\n\nfunction run(createIterator, callback) {\n  const iterator = createIterator()\n  let result = iterator.next()\n  function next() {\n    if (result.done) {\n      callback(null, result.value)\n    } else {\n      result.value((err, value) => { // 补上最后 callback 参数启动任务\n        if (err) {\n          result = iterator.throw(err)\n          next()\n        } else {\n          result = iterator.next(value)\n          next()\n        }\n      })\n    }\n  }\n  next()\n}\n\nrun(createIterator, (err, value) => {\n  console.log(err, value)\n})\n",
          "language": "js",
          "meta": null
        },
        "children": [
          {
            "type": "element",
            "tag": "pre",
            "props": {},
            "children": [
              {
                "type": "element",
                "tag": "code",
                "props": { "__ignoreMap": "" },
                "children": [
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 1 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-aebb93" },
                        "children": [{ "type": "text", "value": "const" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "curry" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " = (" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "fn" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ", ..." }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "args" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ") " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-aebb93" },
                        "children": [{ "type": "text", "value": "=>" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "fn" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "." }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "length" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " <= " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "args" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "." }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "length" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " ? " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "fn" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "(..." }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "args" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ") : " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "curry" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "." }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "bind" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "(" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-aebb93" },
                        "children": [{ "type": "text", "value": "null" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ", " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "fn" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ", ..." }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "args" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ");\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 2 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": {},
                        "children": [{ "type": "text", "value": "\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 3 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-aebb93" },
                        "children": [{ "type": "text", "value": "function" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "createDelayCurry" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " (" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "time" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ", " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "callback" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ") {\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 4 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "  " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "setTimeout" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "(() " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-aebb93" },
                        "children": [{ "type": "text", "value": "=>" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " {\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 5 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "    " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "callback" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "(" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-aebb93" },
                        "children": [{ "type": "text", "value": "null" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ", " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "time" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ")\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 6 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "  }, " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "time" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ")\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 7 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "} \n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 8 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": {},
                        "children": [{ "type": "text", "value": "\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 9 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-aebb93" },
                        "children": [{ "type": "text", "value": "const" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-35c78c" },
                        "children": [{ "type": "text", "value": "curringDelay" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " = " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "curry" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "(" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "createDelayCurry" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ")\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 10 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": {},
                        "children": [{ "type": "text", "value": "\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 11 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-aebb93" },
                        "children": [{ "type": "text", "value": "function" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-aebb93" },
                        "children": [{ "type": "text", "value": "*" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "createIterator" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "() {\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 12 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "  " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-aebb93" },
                        "children": [{ "type": "text", "value": "const" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-35c78c" },
                        "children": [{ "type": "text", "value": "time1" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " = " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-395d0c" },
                        "children": [{ "type": "text", "value": "yield" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "curringDelay" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "(" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-d06041" },
                        "children": [{ "type": "text", "value": "1000" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ")\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 13 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "  " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "console" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "." }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "log" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "(" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "time1" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ")\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 14 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "  " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-aebb93" },
                        "children": [{ "type": "text", "value": "const" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-35c78c" },
                        "children": [{ "type": "text", "value": "time2" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " = " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-395d0c" },
                        "children": [{ "type": "text", "value": "yield" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "curringDelay" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "(" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-d06041" },
                        "children": [{ "type": "text", "value": "2000" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ")\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 15 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "  " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "console" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "." }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "log" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "(" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "time2" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ")\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 16 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "  " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-aebb93" },
                        "children": [{ "type": "text", "value": "const" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-35c78c" },
                        "children": [{ "type": "text", "value": "time3" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " = " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-395d0c" },
                        "children": [{ "type": "text", "value": "yield" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "curringDelay" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "(" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-d06041" },
                        "children": [{ "type": "text", "value": "3000" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ")\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 17 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "  " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "console" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "." }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "log" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "(" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "time3" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ")\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 18 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "  " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-395d0c" },
                        "children": [{ "type": "text", "value": "return" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "time1" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " + " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "time2" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " + " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "time3\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 19 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "}\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 20 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": {},
                        "children": [{ "type": "text", "value": "\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 21 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-aebb93" },
                        "children": [{ "type": "text", "value": "function" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "run" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "(" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "createIterator" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ", " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "callback" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ") {\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 22 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "  " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-aebb93" },
                        "children": [{ "type": "text", "value": "const" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-35c78c" },
                        "children": [{ "type": "text", "value": "iterator" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " = " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "createIterator" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "()\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 23 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "  " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-aebb93" },
                        "children": [{ "type": "text", "value": "let" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "result" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " = " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "iterator" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "." }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "next" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "()\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 24 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "  " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-aebb93" },
                        "children": [{ "type": "text", "value": "function" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "next" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "() {\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 25 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "    " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-395d0c" },
                        "children": [{ "type": "text", "value": "if" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " (" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "result" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "." }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "done" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ") {\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 26 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "      " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "callback" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "(" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-aebb93" },
                        "children": [{ "type": "text", "value": "null" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ", " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "result" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "." }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "value" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ")\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 27 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "    } " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-395d0c" },
                        "children": [{ "type": "text", "value": "else" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " {\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 28 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "      " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "result" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "." }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "value" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "((" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "err" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ", " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "value" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ") " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-aebb93" },
                        "children": [{ "type": "text", "value": "=>" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " { " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-a0ded6" },
                        "children": [
                          { "type": "text", "value": "// 补上最后 callback 参数启动任务\n" }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 29 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "        " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-395d0c" },
                        "children": [{ "type": "text", "value": "if" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " (" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "err" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ") {\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 30 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "          " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "result" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " = " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "iterator" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "." }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "throw" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "(" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "err" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ")\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 31 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "          " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "next" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "()\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 32 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "        } " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-395d0c" },
                        "children": [{ "type": "text", "value": "else" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " {\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 33 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "          " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "result" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " = " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "iterator" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "." }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "next" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "(" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "value" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ")\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 34 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "          " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "next" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "()\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 35 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "        }\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 36 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "      })\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 37 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "    }\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 38 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "  }\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 39 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "  " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "next" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "()\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 40 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "}\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 41 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": {},
                        "children": [{ "type": "text", "value": "\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 42 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "run" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "(" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "createIterator" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ", (" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "err" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ", " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "value" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ") " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-aebb93" },
                        "children": [{ "type": "text", "value": "=>" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " {\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 43 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "  " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "console" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "." }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "log" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "(" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "err" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ", " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "value" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ")\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 44 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "})" }]
                      }
                    ]
                  }
                ]
              }
            ]
          }
        ]
      },
      {
        "type": "element",
        "tag": "p",
        "props": {},
        "children": [{ "type": "text", "value": "执行效果和 promise 版是差不多一样的。" }]
      },
      {
        "type": "element",
        "tag": "h2",
        "props": { "id": "并行" },
        "children": [{ "type": "text", "value": "并行" }]
      },
      {
        "type": "element",
        "tag": "p",
        "props": {},
        "children": [
          { "type": "text", "value": "上面是串行的版本,下面看看并行的实现" },
          { "type": "element", "tag": "br", "props": {}, "children": [] },
          { "type": "text", "value": "\n先看 promise 并行一般写法" }
        ]
      },
      {
        "type": "element",
        "tag": "code",
        "props": {
          "code": "function *createIteratorParallel() {\n  const times = yield Promise.all([createDelayPromise(1000), createDelayPromise(2000), createDelayPromise(3000)])\n  return times\n}\n",
          "language": "js",
          "meta": null
        },
        "children": [
          {
            "type": "element",
            "tag": "pre",
            "props": {},
            "children": [
              {
                "type": "element",
                "tag": "code",
                "props": { "__ignoreMap": "" },
                "children": [
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 1 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-aebb93" },
                        "children": [{ "type": "text", "value": "function" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-aebb93" },
                        "children": [{ "type": "text", "value": "*" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "createIteratorParallel" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "() {\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 2 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "  " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-aebb93" },
                        "children": [{ "type": "text", "value": "const" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-35c78c" },
                        "children": [{ "type": "text", "value": "times" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " = " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-395d0c" },
                        "children": [{ "type": "text", "value": "yield" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-5850a1" },
                        "children": [{ "type": "text", "value": "Promise" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "." }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "all" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "([" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "createDelayPromise" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "(" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-d06041" },
                        "children": [{ "type": "text", "value": "1000" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "), " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "createDelayPromise" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "(" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-d06041" },
                        "children": [{ "type": "text", "value": "2000" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "), " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "createDelayPromise" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "(" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-d06041" },
                        "children": [{ "type": "text", "value": "3000" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ")])\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 3 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "  " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-395d0c" },
                        "children": [{ "type": "text", "value": "return" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "times\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 4 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "}" }]
                      }
                    ]
                  }
                ]
              }
            ]
          }
        ]
      },
      {
        "type": "element",
        "tag": "p",
        "props": {},
        "children": [{ "type": "text", "value": "相应的也实现一个 all 方法" }]
      },
      {
        "type": "element",
        "tag": "code",
        "props": {
          "code": "function curryAll(curries, callback) {\n  let len = curries.length\n  let result = []\n  let count = 0\n  curries.forEach((curried, index) => {\n    curried((err, value) => {\n      if (err) {\n        callback(err)\n        return\n      } else {\n        count++\n        result[index] = value\n        if (count == len) {\n          callback(null, result)\n        }\n      }\n    })\n  })\n}\n\nconst curriedAll = curry(curryAll)\n\nfunction *createIteratorParallel() {\n  const times = yield curriedAll([curringDelay(1000), curringDelay(2000), curringDelay(3000)])\n  return times\n}\n",
          "language": "js",
          "meta": null
        },
        "children": [
          {
            "type": "element",
            "tag": "pre",
            "props": {},
            "children": [
              {
                "type": "element",
                "tag": "code",
                "props": { "__ignoreMap": "" },
                "children": [
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 1 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-aebb93" },
                        "children": [{ "type": "text", "value": "function" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "curryAll" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "(" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "curries" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ", " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "callback" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ") {\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 2 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "  " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-aebb93" },
                        "children": [{ "type": "text", "value": "let" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "len" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " = " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "curries" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "." }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "length\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 3 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "  " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-aebb93" },
                        "children": [{ "type": "text", "value": "let" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "result" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " = []\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 4 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "  " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-aebb93" },
                        "children": [{ "type": "text", "value": "let" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "count" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " = " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-d06041" },
                        "children": [{ "type": "text", "value": "0\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 5 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "  " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "curries" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "." }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "forEach" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "((" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "curried" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ", " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "index" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ") " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-aebb93" },
                        "children": [{ "type": "text", "value": "=>" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " {\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 6 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "    " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "curried" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "((" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "err" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ", " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "value" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ") " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-aebb93" },
                        "children": [{ "type": "text", "value": "=>" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " {\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 7 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "      " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-395d0c" },
                        "children": [{ "type": "text", "value": "if" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " (" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "err" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ") {\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 8 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "        " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "callback" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "(" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "err" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ")\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 9 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "        " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-395d0c" },
                        "children": [{ "type": "text", "value": "return\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 10 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "      } " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-395d0c" },
                        "children": [{ "type": "text", "value": "else" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " {\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 11 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "        " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "count" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "++\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 12 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "        " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "result" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "[" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "index" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "] = " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "value\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 13 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "        " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-395d0c" },
                        "children": [{ "type": "text", "value": "if" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " (" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "count" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " == " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "len" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ") {\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 14 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "          " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "callback" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "(" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-aebb93" },
                        "children": [{ "type": "text", "value": "null" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ", " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "result" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ")\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 15 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "        }\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 16 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "      }\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 17 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "    })\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 18 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "  })\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 19 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "}\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 20 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": {},
                        "children": [{ "type": "text", "value": "\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 21 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-aebb93" },
                        "children": [{ "type": "text", "value": "const" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-35c78c" },
                        "children": [{ "type": "text", "value": "curriedAll" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " = " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "curry" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "(" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "curryAll" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ")\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 22 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": {},
                        "children": [{ "type": "text", "value": "\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 23 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-aebb93" },
                        "children": [{ "type": "text", "value": "function" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-aebb93" },
                        "children": [{ "type": "text", "value": "*" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "createIteratorParallel" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "() {\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 24 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "  " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-aebb93" },
                        "children": [{ "type": "text", "value": "const" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-35c78c" },
                        "children": [{ "type": "text", "value": "times" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " = " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-395d0c" },
                        "children": [{ "type": "text", "value": "yield" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "curriedAll" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "([" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "curringDelay" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "(" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-d06041" },
                        "children": [{ "type": "text", "value": "1000" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "), " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "curringDelay" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "(" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-d06041" },
                        "children": [{ "type": "text", "value": "2000" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "), " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "curringDelay" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "(" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-d06041" },
                        "children": [{ "type": "text", "value": "3000" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ")])\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 25 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "  " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-395d0c" },
                        "children": [{ "type": "text", "value": "return" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "times\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 26 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "}" }]
                      }
                    ]
                  }
                ]
              }
            ]
          }
        ]
      },
      {
        "type": "element",
        "tag": "p",
        "props": {},
        "children": [{ "type": "text", "value": "yield 后面依然是柯里化后的函数" }]
      },
      {
        "type": "element",
        "tag": "h2",
        "props": { "id": "es-新语法" },
        "children": [{ "type": "text", "value": "es 新语法" }]
      },
      {
        "type": "element",
        "tag": "p",
        "props": {},
        "children": [
          {
            "type": "text",
            "value": "上面的方案要求异步任务的回调需要在参数的末尾位置,如果回调不在末尾,那么就需要修改 curry 函数的实现方式,但是有没有可能不用修改其实现方式,甚至不用写 curry 呢?"
          },
          { "type": "element", "tag": "br", "props": {}, "children": [] },
          {
            "type": "text",
            "value": "\ncurry 作为函数式编程的基本单元,最新的 es 规范实验性地从语法的角度提供了支持。"
          }
        ]
      },
      {
        "type": "element",
        "tag": "code",
        "props": {
          "code": "function add(x, y) { return x + y; }\n\nconst addOne = add(1, ?); // apply from the left\naddOne(2); // 3\n\nconst addTen = add(?, 10); // apply from the right\naddTen(2); // 12\n",
          "language": "js",
          "meta": null
        },
        "children": [
          {
            "type": "element",
            "tag": "pre",
            "props": {},
            "children": [
              {
                "type": "element",
                "tag": "code",
                "props": { "__ignoreMap": "" },
                "children": [
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 1 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-aebb93" },
                        "children": [{ "type": "text", "value": "function" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "add" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "(" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "x" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ", " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "y" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ") { " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-395d0c" },
                        "children": [{ "type": "text", "value": "return" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "x" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " + " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "y" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "; }\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 2 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": {},
                        "children": [{ "type": "text", "value": "\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 3 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-aebb93" },
                        "children": [{ "type": "text", "value": "const" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-35c78c" },
                        "children": [{ "type": "text", "value": "addOne" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " = " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "add" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "(" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-d06041" },
                        "children": [{ "type": "text", "value": "1" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ", ?); " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-a0ded6" },
                        "children": [{ "type": "text", "value": "// apply from the left\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 4 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "addOne" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "(" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-d06041" },
                        "children": [{ "type": "text", "value": "2" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "); " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-a0ded6" },
                        "children": [{ "type": "text", "value": "// 3\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 5 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": {},
                        "children": [{ "type": "text", "value": "\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 6 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "const" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "addTen" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " = " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "add" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "(?, " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-d06041" },
                        "children": [{ "type": "text", "value": "10" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "); " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-a0ded6" },
                        "children": [{ "type": "text", "value": "// apply from the right\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 7 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "addTen" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "(" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-d06041" },
                        "children": [{ "type": "text", "value": "2" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "); " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-a0ded6" },
                        "children": [{ "type": "text", "value": "// 12" }]
                      }
                    ]
                  }
                ]
              }
            ]
          }
        ]
      },
      {
        "type": "element",
        "tag": "p",
        "props": {},
        "children": [
          {
            "type": "text",
            "value": "以上的 addOne addTen 就是一个柯里化后的函数,这个语法大部分浏览器都没有支持,如果要使用也很简单,使用一个 babel 插件就可以了 "
          },
          {
            "type": "element",
            "tag": "code-inline",
            "props": { "lang": "sh", "class": "colored" },
            "children": [
              {
                "type": "element",
                "tag": "span",
                "props": { "class": "ct-fe430f" },
                "children": [{ "type": "text", "value": "babel " }]
              },
              {
                "type": "element",
                "tag": "span",
                "props": { "class": "ct-25584a" },
                "children": [{ "type": "text", "value": "--plugins" }]
              },
              {
                "type": "element",
                "tag": "span",
                "props": { "class": "ct-fe430f" },
                "children": [{ "type": "text", "value": " " }]
              },
              {
                "type": "element",
                "tag": "span",
                "props": { "class": "ct-25584a" },
                "children": [
                  { "type": "text", "value": "@babel/plugin-proposal-partial-application" }
                ]
              },
              {
                "type": "element",
                "tag": "span",
                "props": { "class": "ct-fe430f" },
                "children": [{ "type": "text", "value": " " }]
              },
              {
                "type": "element",
                "tag": "span",
                "props": { "class": "ct-25584a" },
                "children": [{ "type": "text", "value": "script.js" }]
              }
            ]
          },
          { "type": "text", "value": "\n如果使用了上面的语法,可以不用引入 curry 函数" }
        ]
      },
      {
        "type": "element",
        "tag": "code",
        "props": {
          "code": "function *createIterator() {\n  const time1 = yield createDelayCurry(1000, ?)\n  console.log(time1)\n  const time2 = yield createDelayCurry(2000, ?)\n  console.log(time2)\n  const time3 = yield createDelayCurry(3000, ?)\n  console.log(time3)\n  return time1 + time2 + time3\n}\n",
          "language": "js",
          "meta": null
        },
        "children": [
          {
            "type": "element",
            "tag": "pre",
            "props": {},
            "children": [
              {
                "type": "element",
                "tag": "code",
                "props": { "__ignoreMap": "" },
                "children": [
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 1 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-aebb93" },
                        "children": [{ "type": "text", "value": "function" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-aebb93" },
                        "children": [{ "type": "text", "value": "*" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "createIterator" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "() {\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 2 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "  " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-aebb93" },
                        "children": [{ "type": "text", "value": "const" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-35c78c" },
                        "children": [{ "type": "text", "value": "time1" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " = " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-395d0c" },
                        "children": [{ "type": "text", "value": "yield" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "createDelayCurry" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "(" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-d06041" },
                        "children": [{ "type": "text", "value": "1000" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ", ?)\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 3 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "  " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "console" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "." }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "log" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "(" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "time1" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ")\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 4 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "  " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "const" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "time2" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " = " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-395d0c" },
                        "children": [{ "type": "text", "value": "yield" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "createDelayCurry" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "(" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-d06041" },
                        "children": [{ "type": "text", "value": "2000" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ", ?)\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 5 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "  " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "console" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "." }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "log" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "(" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "time2" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ")\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 6 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "  " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "const" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "time3" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " = " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-395d0c" },
                        "children": [{ "type": "text", "value": "yield" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "createDelayCurry" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "(" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-d06041" },
                        "children": [{ "type": "text", "value": "3000" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ", ?)\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 7 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "  " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "console" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "." }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-4f442c" },
                        "children": [{ "type": "text", "value": "log" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "(" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "time3" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": ")\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 8 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "  " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "return" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "time1" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " + " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "time2" }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": " + " }]
                      },
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-7309eb" },
                        "children": [{ "type": "text", "value": "time3\n" }]
                      }
                    ]
                  },
                  {
                    "type": "element",
                    "tag": "span",
                    "props": { "class": "line", "line": 9 },
                    "children": [
                      {
                        "type": "element",
                        "tag": "span",
                        "props": { "class": "ct-fe430f" },
                        "children": [{ "type": "text", "value": "}" }]
                      }
                    ]
                  }
                ]
              }
            ]
          }
        ]
      },
      {
        "type": "element",
        "tag": "p",
        "props": {},
        "children": [
          {
            "type": "text",
            "value": "如果 callback 在前面,那么就把问号放在前面,实际上可以放在任何参数位置上,主要看具体的接口要求。"
          }
        ]
      },
      {
        "type": "element",
        "tag": "h2",
        "props": { "id": "总结" },
        "children": [{ "type": "text", "value": "总结" }]
      },
      {
        "type": "element",
        "tag": "p",
        "props": {},
        "children": [
          {
            "type": "text",
            "value": "柯里化的应用非常广泛,上面只是举了一个简单的例子,通过这个例子,也了解了 async/await 基本实现原理,虽然 async/await 已经被广泛支持,promise 也被广泛使用,可能不再需要直接使用生成器函数了,但也不妨碍去简单地了解一下。"
          }
        ]
      },
      {
        "type": "element",
        "tag": "style",
        "children": [
          {
            "type": "text",
            "value": ".ct-5850a1{color:#4EC9B0}\n.ct-25584a{color:#CE9178}\n.ct-a0ded6{color:#6A9955}\n.ct-d06041{color:#B5CEA8}\n.ct-35c78c{color:#4FC1FF}\n.ct-395d0c{color:#C586C0}\n.ct-7309eb{color:#9CDCFE}\n.ct-4f442c{color:#DCDCAA}\n.ct-fe430f{color:#D4D4D4}\n.ct-aebb93{color:#569CD6}"
          }
        ]
      }
    ],
    "toc": {
      "title": "",
      "searchDepth": 2,
      "depth": 2,
      "links": [
        { "id": "柯里化", "depth": 2, "text": "柯里化" },
        { "id": "generator-和-promise", "depth": 2, "text": "Generator 和 promise" },
        { "id": "generator-和-柯里化", "depth": 2, "text": "Generator 和 柯里化" },
        { "id": "并行", "depth": 2, "text": "并行" },
        { "id": "es-新语法", "depth": 2, "text": "es 新语法" },
        { "id": "总结", "depth": 2, "text": "总结" }
      ]
    }
  },
  "_type": "markdown",
  "_id": "content:articles:javaScript:CurryAndAsync.md",
  "_source": "content",
  "_file": "articles/javaScript/CurryAndAsync.md",
  "_extension": "md"
}
