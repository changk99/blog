export default (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az,aA,aB,aC,aD,aE,aF,aG,aH,aI,aJ,aK,aL,aM,aN,aO,aP,aQ,aR,aS,aT,aU,aV,aW,aX,aY,aZ,a_,a$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,bZ,b_,b$,ca,cb,cc,cd,ce,cf,cg,ch,ci,cj,ck,cl,cm,cn,co,cp,cq,cr,cs,ct,cu,cv,cw,cx,cy,cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cK,cL,cM,cN,cO,cP,cQ,cR,cS,cT,cU,cV,cW,cX,cY,cZ,c_,c$,da,db,dc,dd,de,df,dg,dh,di,dj,dk,dl,dm,dn,do0,dp,dq,dr,ds,dt,du){return {data:{"content-navigation-8C37fagqQL":[{title:bI,_path:bJ,children:[{title:bK,_path:bL,children:[{title:bM,_path:bN},{title:bO,_path:bP},{title:bQ,_path:bR}]},{title:bS,_path:bT,children:[{title:bs,_path:bt},{title:bU,_path:bV},{title:bW,_path:bX},{title:bY,_path:bZ}]},{title:b_,_path:b$,children:[{title:ca,_path:cb}]}]},{title:cc,_path:cd,children:[{title:ce,_path:cf,children:[{title:ba,_path:cg},{title:bb,_path:ch}]},{title:ci,_path:cj,children:[{title:ba,_path:ck},{title:bb,_path:cl}]}]},{title:cm,_path:bu},{title:bv,_path:cn},{title:co,_path:cp,children:[{title:cq,_path:cr},{title:cs,_path:ct}]}],"search-navigation":[{title:bI,_path:bJ,children:[{title:bK,_path:bL,children:[{title:bM,_path:bN},{title:bO,_path:bP},{title:bQ,_path:bR}]},{title:bS,_path:bT,children:[{title:bs,_path:bt},{title:bU,_path:bV},{title:bW,_path:bX},{title:bY,_path:bZ}]},{title:b_,_path:b$,children:[{title:ca,_path:cb}]}]},{title:cc,_path:cd,children:[{title:ce,_path:cf,children:[{title:ba,_path:cg},{title:bb,_path:ch}]},{title:ci,_path:cj,children:[{title:ba,_path:ck},{title:bb,_path:cl}]}]},{title:cm,_path:bu},{title:bv,_path:cn},{title:co,_path:cp,children:[{title:cq,_path:cr},{title:cs,_path:ct}]}],"content-query-DFIETUu7RI":{_path:bt,_dir:"javascript",_draft:bw,_partial:bw,_locale:"zh-Hans",_empty:bw,title:bs,description:N,body:{type:"root",children:[{type:a,tag:ax,props:{id:bc},children:[{type:c,value:bc}]},{type:a,tag:z,props:{},children:[{type:c,value:"async\u002Fawait 语法用看起来像写同步代码的方式来优雅地处理异步操作,但是我们也要明白一点,异步操作本来带有复杂性,像写同步代码的方式并不能降低本质上的复杂性,所以在处理上我们要更加谨慎, 稍有不慎就可能写出不是预期执行的代码,从而影响执行效率。下面将简单地描述一下一些日常常用场景,加深对 async\u002Fawait 认识"}]},{type:a,tag:z,props:{},children:[{type:c,value:"最普遍的异步操作就是请求,我们也可以用 setTimeOut 来简单模拟异步请求。"}]},{type:a,tag:ax,props:{id:cu},children:[{type:c,value:cv}]},{type:a,tag:z,props:{},children:[{type:c,value:"相信这个场景是最常遇到,后一个请求依赖前一个请求,下面以爬取一个网页内的图片为例子进行描述,使用了 superagent 请求模块, cheerio 页面分析模块,图片的地址需要分析网页内容得出,所以必须按顺序进行请求。"}]},{type:a,tag:w,props:{code:"const request = require('superagent')\nconst cheerio = require('cheerio')\n\u002F\u002F 简单封装下请求,其他的类似\n\nfunction getHTML(url) {\n\u002F\u002F 一些操作,比如设置一下请求头信息\nreturn superagent.get(url).set('referer', referer).set('user-agent', userAgent)\n}\n\u002F\u002F 下面就请求一张图片\nasync function imageCrawler(url) {\n  let res = await getHTML(url)\n  let html = res.text\n  let $ = cheerio.load(html)\n  let $img = $(selector)[0]\n  let href = $img.attribs.src\n  res = await getImage(href)\n  retrun res.body\n}\nasync function handler(url) {\n  let img = await imageCrawler(url)\n  console.log(img) \u002F\u002F buffer 格式的数据\n  \u002F\u002F 处理图片\n}\nhandler(url)\n",language:R,meta:S},children:[{type:a,tag:T,props:{},children:[{type:a,tag:w,props:{__ignoreMap:N},children:[{type:a,tag:b,props:{class:e,line:U},children:[{type:a,tag:b,props:{class:s},children:[{type:c,value:cw}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:cx},children:[{type:c,value:"request"}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:p}]},{type:a,tag:b,props:{class:t},children:[{type:c,value:cy}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:J},children:[{type:c,value:"'superagent'"}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:K}]}]},{type:a,tag:b,props:{class:e,line:A},children:[{type:a,tag:b,props:{class:s},children:[{type:c,value:cw}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:cx},children:[{type:c,value:cz}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:p}]},{type:a,tag:b,props:{class:t},children:[{type:c,value:cy}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:J},children:[{type:c,value:"'cheerio'"}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:K}]}]},{type:a,tag:b,props:{class:e,line:V},children:[{type:a,tag:b,props:{class:aQ},children:[{type:c,value:"\u002F\u002F 简单封装下请求,其他的类似\n"}]}]},{type:a,tag:b,props:{class:e,line:W},children:[{type:a,tag:b,props:{},children:[{type:c,value:as}]}]},{type:a,tag:b,props:{class:e,line:X},children:[{type:a,tag:b,props:{class:s},children:[{type:c,value:x}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:t},children:[{type:c,value:cA}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:l},children:[{type:c,value:C}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:u}]}]},{type:a,tag:b,props:{class:e,line:Z},children:[{type:a,tag:b,props:{class:aQ},children:[{type:c,value:"\u002F\u002F 一些操作,比如设置一下请求头信息\n"}]}]},{type:a,tag:b,props:{class:e,line:_},children:[{type:a,tag:b,props:{class:at},children:[{type:c,value:Q}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:l},children:[{type:c,value:"superagent"}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:o}]},{type:a,tag:b,props:{class:t},children:[{type:c,value:"get"}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:l},children:[{type:c,value:C}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:bd}]},{type:a,tag:b,props:{class:t},children:[{type:c,value:cB}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:J},children:[{type:c,value:"'referer'"}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:v}]},{type:a,tag:b,props:{class:l},children:[{type:c,value:"referer"}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:bd}]},{type:a,tag:b,props:{class:t},children:[{type:c,value:cB}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:J},children:[{type:c,value:"'user-agent'"}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:v}]},{type:a,tag:b,props:{class:l},children:[{type:c,value:"userAgent"}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:K}]}]},{type:a,tag:b,props:{class:e,line:af},children:[{type:a,tag:b,props:{class:f},children:[{type:c,value:L}]}]},{type:a,tag:b,props:{class:e,line:ag},children:[{type:a,tag:b,props:{class:aQ},children:[{type:c,value:"\u002F\u002F 下面就请求一张图片\n"}]}]},{type:a,tag:b,props:{class:e,line:ah},children:[{type:a,tag:b,props:{class:s},children:[{type:c,value:F}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:s},children:[{type:c,value:x}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:t},children:[{type:c,value:aG}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:l},children:[{type:c,value:C}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:u}]}]},{type:a,tag:b,props:{class:e,line:ai},children:[{type:a,tag:b,props:{class:f},children:[{type:c,value:m}]},{type:a,tag:b,props:{class:s},children:[{type:c,value:q}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:l},children:[{type:c,value:be}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:p}]},{type:a,tag:b,props:{class:at},children:[{type:c,value:D}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:t},children:[{type:c,value:cA}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:l},children:[{type:c,value:C}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:K}]}]},{type:a,tag:b,props:{class:e,line:aj},children:[{type:a,tag:b,props:{class:f},children:[{type:c,value:m}]},{type:a,tag:b,props:{class:s},children:[{type:c,value:q}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:l},children:[{type:c,value:cC}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:p}]},{type:a,tag:b,props:{class:l},children:[{type:c,value:be}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:o}]},{type:a,tag:b,props:{class:l},children:[{type:c,value:"text\n"}]}]},{type:a,tag:b,props:{class:e,line:ak},children:[{type:a,tag:b,props:{class:f},children:[{type:c,value:m}]},{type:a,tag:b,props:{class:s},children:[{type:c,value:q}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:l},children:[{type:c,value:cD}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:p}]},{type:a,tag:b,props:{class:l},children:[{type:c,value:cz}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:o}]},{type:a,tag:b,props:{class:t},children:[{type:c,value:"load"}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:l},children:[{type:c,value:cC}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:K}]}]},{type:a,tag:b,props:{class:e,line:al},children:[{type:a,tag:b,props:{class:f},children:[{type:c,value:m}]},{type:a,tag:b,props:{class:s},children:[{type:c,value:q}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:l},children:[{type:c,value:cE}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:p}]},{type:a,tag:b,props:{class:t},children:[{type:c,value:cD}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:l},children:[{type:c,value:"selector"}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:")["}]},{type:a,tag:b,props:{class:cF},children:[{type:c,value:aR}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:"]\n"}]}]},{type:a,tag:b,props:{class:e,line:am},children:[{type:a,tag:b,props:{class:f},children:[{type:c,value:m}]},{type:a,tag:b,props:{class:s},children:[{type:c,value:q}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:l},children:[{type:c,value:cG}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:p}]},{type:a,tag:b,props:{class:l},children:[{type:c,value:cE}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:o}]},{type:a,tag:b,props:{class:l},children:[{type:c,value:"attribs"}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:o}]},{type:a,tag:b,props:{class:l},children:[{type:c,value:"src\n"}]}]},{type:a,tag:b,props:{class:e,line:an},children:[{type:a,tag:b,props:{class:f},children:[{type:c,value:m}]},{type:a,tag:b,props:{class:l},children:[{type:c,value:be}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:p}]},{type:a,tag:b,props:{class:at},children:[{type:c,value:D}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:t},children:[{type:c,value:ay}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:l},children:[{type:c,value:cG}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:K}]}]},{type:a,tag:b,props:{class:e,line:az},children:[{type:a,tag:b,props:{class:f},children:[{type:c,value:m}]},{type:a,tag:b,props:{class:l},children:[{type:c,value:"retrun"}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:l},children:[{type:c,value:be}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:o}]},{type:a,tag:b,props:{class:l},children:[{type:c,value:"body\n"}]}]},{type:a,tag:b,props:{class:e,line:aH},children:[{type:a,tag:b,props:{class:f},children:[{type:c,value:L}]}]},{type:a,tag:b,props:{class:e,line:aI},children:[{type:a,tag:b,props:{class:s},children:[{type:c,value:F}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:s},children:[{type:c,value:x}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:t},children:[{type:c,value:cH}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:l},children:[{type:c,value:C}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:u}]}]},{type:a,tag:b,props:{class:e,line:bf},children:[{type:a,tag:b,props:{class:f},children:[{type:c,value:m}]},{type:a,tag:b,props:{class:s},children:[{type:c,value:q}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:l},children:[{type:c,value:M}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:p}]},{type:a,tag:b,props:{class:at},children:[{type:c,value:D}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:t},children:[{type:c,value:aG}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:l},children:[{type:c,value:C}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:K}]}]},{type:a,tag:b,props:{class:e,line:bg},children:[{type:a,tag:b,props:{class:f},children:[{type:c,value:m}]},{type:a,tag:b,props:{class:l},children:[{type:c,value:G}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:o}]},{type:a,tag:b,props:{class:t},children:[{type:c,value:H}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:l},children:[{type:c,value:M}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:$}]},{type:a,tag:b,props:{class:aQ},children:[{type:c,value:"\u002F\u002F buffer 格式的数据\n"}]}]},{type:a,tag:b,props:{class:e,line:bx},children:[{type:a,tag:b,props:{class:f},children:[{type:c,value:m}]},{type:a,tag:b,props:{class:aQ},children:[{type:c,value:"\u002F\u002F 处理图片\n"}]}]},{type:a,tag:b,props:{class:e,line:by},children:[{type:a,tag:b,props:{class:f},children:[{type:c,value:L}]}]},{type:a,tag:b,props:{class:e,line:bz},children:[{type:a,tag:b,props:{class:t},children:[{type:c,value:cH}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:l},children:[{type:c,value:C}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:cI}]}]}]}]}]},{type:a,tag:z,props:{},children:[{type:c,value:"上面就是一个简单的获取图片数据的场景,图片数据是加载进内存中,如果只是简单的存储数据,可以用流的形式进行存储,以防止消耗太多内存。"}]},{type:a,tag:z,props:{},children:[{type:c,value:"其中 await getHTML 是必须的,如果省略了 await 程序就不能按预期得到结果。执行流程会先执行 await 后面的表达式,其实际返回的是一个处于 pending 状态的 promise,等到这个 promise 处于已决议状态后才会执行 await 后面的操作,其中的代码执行会跳出 async 函数,继续执行函数外面的其他代码,所以并不会阻塞后续代码的执行。"}]},{type:a,tag:ax,props:{id:cJ},children:[{type:c,value:cK}]},{type:a,tag:z,props:{},children:[{type:c,value:"有的时候我们并不需要等待一个请求回来才发出另一个请求,这样效率是很低的,所以这个时候就需要并发执行请求任务。下面以一个查询为例,先获取一个人的学校地址和家庭住址,再由这些信息获取详细的个人信息,学校地址和家庭住址是没有依赖关系的,后面的获取个人信息依赖于两者"}]},{type:a,tag:w,props:{code:"async function infoCrawler(url, name) {\n  let [schoolAdr, homeAdr] = await Promise.all([getSchoolAdr(name), getHomeAdr(name)]);\n  let info = await getInfo(url + `?schoolAdr=${schoolAdr}&homeAdr=${homeAdr}`);\n  return info;\n}\n",language:R,meta:S},children:[{type:a,tag:T,props:{},children:[{type:a,tag:w,props:{__ignoreMap:N},children:[{type:a,tag:b,props:{class:e,line:U},children:[{type:a,tag:b,props:{class:s},children:[{type:c,value:F}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:s},children:[{type:c,value:x}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:t},children:[{type:c,value:"infoCrawler"}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:l},children:[{type:c,value:C}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:v}]},{type:a,tag:b,props:{class:l},children:[{type:c,value:bA}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:u}]}]},{type:a,tag:b,props:{class:e,line:A},children:[{type:a,tag:b,props:{class:f},children:[{type:c,value:m}]},{type:a,tag:b,props:{class:s},children:[{type:c,value:q}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:" ["}]},{type:a,tag:b,props:{class:l},children:[{type:c,value:cL}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:v}]},{type:a,tag:b,props:{class:l},children:[{type:c,value:cM}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:"] = "}]},{type:a,tag:b,props:{class:at},children:[{type:c,value:D}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:cN},children:[{type:c,value:Y}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:o}]},{type:a,tag:b,props:{class:t},children:[{type:c,value:cO}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:cP}]},{type:a,tag:b,props:{class:t},children:[{type:c,value:"getSchoolAdr"}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:l},children:[{type:c,value:bA}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:cQ}]},{type:a,tag:b,props:{class:t},children:[{type:c,value:"getHomeAdr"}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:l},children:[{type:c,value:bA}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:cR}]}]},{type:a,tag:b,props:{class:e,line:V},children:[{type:a,tag:b,props:{class:f},children:[{type:c,value:m}]},{type:a,tag:b,props:{class:s},children:[{type:c,value:q}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:l},children:[{type:c,value:cS}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:p}]},{type:a,tag:b,props:{class:at},children:[{type:c,value:D}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:t},children:[{type:c,value:"getInfo"}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:l},children:[{type:c,value:C}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:" + "}]},{type:a,tag:b,props:{class:J},children:[{type:c,value:"`?schoolAdr="}]},{type:a,tag:b,props:{class:s},children:[{type:c,value:cT}]},{type:a,tag:b,props:{class:l},children:[{type:c,value:cL}]},{type:a,tag:b,props:{class:s},children:[{type:c,value:aa}]},{type:a,tag:b,props:{class:J},children:[{type:c,value:"&homeAdr="}]},{type:a,tag:b,props:{class:s},children:[{type:c,value:cT}]},{type:a,tag:b,props:{class:l},children:[{type:c,value:cM}]},{type:a,tag:b,props:{class:s},children:[{type:c,value:aa}]},{type:a,tag:b,props:{class:J},children:[{type:c,value:"`"}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:r}]}]},{type:a,tag:b,props:{class:e,line:W},children:[{type:a,tag:b,props:{class:f},children:[{type:c,value:m}]},{type:a,tag:b,props:{class:n},children:[{type:c,value:Q}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:cS}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:O}]}]},{type:a,tag:b,props:{class:e,line:X},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:aa}]}]}]}]}]},{type:a,tag:z,props:{},children:[{type:c,value:"上面使用的 Promise.all 里面的异步请求都会并发执行,并等到数据都准备后返回相应的按数据顺序返回的数组,这里最后处理获取信息的时间,由并发请求中最慢的请求决定,例如 getSchoolAdr 迟迟不返回数据,那么后续操作只能等待,就算 getHomeAdr 已经提前返回了,当然以上场景必须是这么做,但是有的时候我们并不需要这么做。"}]},{type:a,tag:z,props:{},children:[{type:c,value:"上面第一个场景中,我们只获取到一张图片,但是可能一个网页中不止一张图片,如果我们要把这些图片存储起来,其实是没有必要等待图片都并发请求回来后再处理,哪张图片早回来就存储哪张就行了"}]},{type:a,tag:w,props:{code:"let imageUrls = ['href1', 'href2', 'href3'];\nasync function saveImages(imageUrls) {\n  await Promise.all(\n    imageUrls.map(async (imageUrl) =\u003E {\n      let img = await getImage(imageUrl);\n      return await saveImage(img);\n    })\n  );\n  console.log('done');\n}\n\u002F\u002F 如果我们连存储是否全部完成也不关心,也可以这么写\nlet imageUrls = ['href1', 'href2', 'href3'];\n\u002F\u002F saveImages() 连 async 都省了\nfunction saveImages(imageUrls) {\n  imageUrls.forEach(async (imageUrl) =\u003E {\n    let img = await getImage(imageUrl);\n    saveImage(img);\n  });\n}\n",language:R,meta:S},children:[{type:a,tag:T,props:{},children:[{type:a,tag:w,props:{__ignoreMap:N},children:[{type:a,tag:b,props:{class:e,line:U},children:[{type:a,tag:b,props:{class:s},children:[{type:c,value:q}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:l},children:[{type:c,value:aJ}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:cU}]},{type:a,tag:b,props:{class:J},children:[{type:c,value:cV}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:v}]},{type:a,tag:b,props:{class:J},children:[{type:c,value:cW}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:v}]},{type:a,tag:b,props:{class:J},children:[{type:c,value:cX}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:cY}]}]},{type:a,tag:b,props:{class:e,line:A},children:[{type:a,tag:b,props:{class:s},children:[{type:c,value:F}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:s},children:[{type:c,value:x}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:t},children:[{type:c,value:cZ}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:aJ}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:u}]}]},{type:a,tag:b,props:{class:e,line:V},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:m}]},{type:a,tag:b,props:{class:n},children:[{type:c,value:D}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:ao},children:[{type:c,value:Y}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:o}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:cO}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:"(\n"}]}]},{type:a,tag:b,props:{class:e,line:W},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:y}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:aJ}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:o}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:"map"}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:k},children:[{type:c,value:F}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:ab}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:bh}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:$}]},{type:a,tag:b,props:{class:k},children:[{type:c,value:P}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:B}]}]},{type:a,tag:b,props:{class:e,line:X},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:ap}]},{type:a,tag:b,props:{class:k},children:[{type:c,value:q}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:M}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:p}]},{type:a,tag:b,props:{class:n},children:[{type:c,value:D}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:ay}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:bh}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:r}]}]},{type:a,tag:b,props:{class:e,line:Z},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:ap}]},{type:a,tag:b,props:{class:n},children:[{type:c,value:Q}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:n},children:[{type:c,value:D}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:c_}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:M}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:r}]}]},{type:a,tag:b,props:{class:e,line:_},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:"    })\n"}]}]},{type:a,tag:b,props:{class:e,line:af},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:"  );\n"}]}]},{type:a,tag:b,props:{class:e,line:ag},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:m}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:G}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:o}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:H}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:au},children:[{type:c,value:bB}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:r}]}]},{type:a,tag:b,props:{class:e,line:ah},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:L}]}]},{type:a,tag:b,props:{class:e,line:ai},children:[{type:a,tag:b,props:{class:aS},children:[{type:c,value:"\u002F\u002F 如果我们连存储是否全部完成也不关心,也可以这么写\n"}]}]},{type:a,tag:b,props:{class:e,line:aj},children:[{type:a,tag:b,props:{class:k},children:[{type:c,value:q}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:aJ}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:cU}]},{type:a,tag:b,props:{class:au},children:[{type:c,value:cV}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:v}]},{type:a,tag:b,props:{class:au},children:[{type:c,value:cW}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:v}]},{type:a,tag:b,props:{class:au},children:[{type:c,value:cX}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:cY}]}]},{type:a,tag:b,props:{class:e,line:ak},children:[{type:a,tag:b,props:{class:aS},children:[{type:c,value:"\u002F\u002F saveImages() 连 async 都省了\n"}]}]},{type:a,tag:b,props:{class:e,line:al},children:[{type:a,tag:b,props:{class:k},children:[{type:c,value:x}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:cZ}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:aJ}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:u}]}]},{type:a,tag:b,props:{class:e,line:am},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:m}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:aJ}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:o}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:"forEach"}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:k},children:[{type:c,value:F}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:ab}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:bh}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:$}]},{type:a,tag:b,props:{class:k},children:[{type:c,value:P}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:B}]}]},{type:a,tag:b,props:{class:e,line:an},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:y}]},{type:a,tag:b,props:{class:k},children:[{type:c,value:q}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:M}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:p}]},{type:a,tag:b,props:{class:n},children:[{type:c,value:D}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:ay}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:bh}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:r}]}]},{type:a,tag:b,props:{class:e,line:az},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:y}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:c_}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:M}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:r}]}]},{type:a,tag:b,props:{class:e,line:aH},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:bi}]}]},{type:a,tag:b,props:{class:e,line:aI},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:aa}]}]}]}]}]},{type:a,tag:z,props:{},children:[{type:c,value:"可能有人会疑问 forEach 不是不能用于异步吗,这个说法我也在刚接触这个语法的时候就听说过,很明显 forEach 是可以处理异步的,只是是并发处理,map 也是并发处理,这个怎么用主要看你的实际场景,还要看你是否对结果感兴趣"}]},{type:a,tag:ax,props:{id:c$},children:[{type:c,value:da}]},{type:a,tag:z,props:{},children:[{type:c,value:"一个请求发出,可以会遇到各种问题,我们是无法保证一定成功的,报错是常有的事,所以处理错误有时很有必要, async\u002Fawait 处理错误也非常直观, 使用 try\u002Fcatch 直接捕获就可以了"}]},{type:a,tag:w,props:{code:"async function imageCrawler(url) {\n  try {\n    let img = await getImage(url);\n    return img;\n  } catch (error) {\n    console.log(error);\n  }\n}\n\u002F\u002F imageCrawler 返回的是一个 promise 可以这样处理\nasync function imageCrawler(url) {\n  let img = await getImage(url);\n  return img;\n}\nimageCrawler(url).catch((err) =\u003E {\n  console.log(err);\n});\n",language:R,meta:S},children:[{type:a,tag:T,props:{},children:[{type:a,tag:w,props:{__ignoreMap:N},children:[{type:a,tag:b,props:{class:e,line:U},children:[{type:a,tag:b,props:{class:k},children:[{type:c,value:F}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:k},children:[{type:c,value:x}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:aG}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:C}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:u}]}]},{type:a,tag:b,props:{class:e,line:A},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:m}]},{type:a,tag:b,props:{class:n},children:[{type:c,value:aT}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:B}]}]},{type:a,tag:b,props:{class:e,line:V},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:y}]},{type:a,tag:b,props:{class:k},children:[{type:c,value:q}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:M}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:p}]},{type:a,tag:b,props:{class:n},children:[{type:c,value:D}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:ay}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:C}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:r}]}]},{type:a,tag:b,props:{class:e,line:W},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:y}]},{type:a,tag:b,props:{class:n},children:[{type:c,value:Q}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:M}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:O}]}]},{type:a,tag:b,props:{class:e,line:X},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:aU}]},{type:a,tag:b,props:{class:n},children:[{type:c,value:aA}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:ab}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:ac}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:u}]}]},{type:a,tag:b,props:{class:e,line:Z},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:y}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:G}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:o}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:H}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:ac}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:r}]}]},{type:a,tag:b,props:{class:e,line:_},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:aB}]}]},{type:a,tag:b,props:{class:e,line:af},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:L}]}]},{type:a,tag:b,props:{class:e,line:ag},children:[{type:a,tag:b,props:{class:aS},children:[{type:c,value:"\u002F\u002F imageCrawler 返回的是一个 promise 可以这样处理\n"}]}]},{type:a,tag:b,props:{class:e,line:ah},children:[{type:a,tag:b,props:{class:k},children:[{type:c,value:F}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:k},children:[{type:c,value:x}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:aG}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:C}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:u}]}]},{type:a,tag:b,props:{class:e,line:ai},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:m}]},{type:a,tag:b,props:{class:k},children:[{type:c,value:q}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:M}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:p}]},{type:a,tag:b,props:{class:n},children:[{type:c,value:D}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:ay}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:C}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:r}]}]},{type:a,tag:b,props:{class:e,line:aj},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:m}]},{type:a,tag:b,props:{class:n},children:[{type:c,value:Q}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:M}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:O}]}]},{type:a,tag:b,props:{class:e,line:ak},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:L}]}]},{type:a,tag:b,props:{class:e,line:al},children:[{type:a,tag:b,props:{class:j},children:[{type:c,value:aG}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:C}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:bd}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:aA}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:aC}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:bj}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:$}]},{type:a,tag:b,props:{class:k},children:[{type:c,value:P}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:B}]}]},{type:a,tag:b,props:{class:e,line:am},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:m}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:G}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:o}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:H}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:bj}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:r}]}]},{type:a,tag:b,props:{class:e,line:an},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:"});"}]}]}]}]}]},{type:a,tag:z,props:{},children:[{type:c,value:"可能有人会有疑问,是不是要在每个请求中都 try\u002Fcatch 一下,这个其实你在最外层 catch 一下就可以了,一些基于中间件的设计就喜欢在最外层捕获错误"}]},{type:a,tag:w,props:{code:"async function ctx(next) {\n  try {\n    await next();\n  } catch (error) {\n    console.log(error);\n  }\n}\n",language:R,meta:S},children:[{type:a,tag:T,props:{},children:[{type:a,tag:w,props:{__ignoreMap:N},children:[{type:a,tag:b,props:{class:e,line:U},children:[{type:a,tag:b,props:{class:k},children:[{type:c,value:F}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:k},children:[{type:c,value:x}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:"ctx"}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:av}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:u}]}]},{type:a,tag:b,props:{class:e,line:A},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:m}]},{type:a,tag:b,props:{class:n},children:[{type:c,value:aT}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:B}]}]},{type:a,tag:b,props:{class:e,line:V},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:y}]},{type:a,tag:b,props:{class:n},children:[{type:c,value:D}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:av}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:ad}]}]},{type:a,tag:b,props:{class:e,line:W},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:aU}]},{type:a,tag:b,props:{class:n},children:[{type:c,value:aA}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:ab}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:ac}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:u}]}]},{type:a,tag:b,props:{class:e,line:X},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:y}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:G}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:o}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:H}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:ac}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:r}]}]},{type:a,tag:b,props:{class:e,line:Z},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:aB}]}]},{type:a,tag:b,props:{class:e,line:_},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:aa}]}]}]}]}]},{type:a,tag:ax,props:{id:db},children:[{type:c,value:dc}]},{type:a,tag:z,props:{},children:[{type:c,value:"一个请求发出,我们是无法确定什么时候返回的,也总不能一直傻傻的等,设置超时处理有时是很有必要的"}]},{type:a,tag:w,props:{code:"function timeOut(delay) {\n  return new Promise((resolve, reject) =\u003E {\n    setTimeout(() =\u003E {\n      reject(new Error('不用等了,别傻了'));\n    }, delay);\n  });\n}\n\nasync function imageCrawler(url, delay) {\n  try {\n    let img = await Promise.race([getImage(url), timeOut(delay)]);\n    return img;\n  } catch (error) {\n    console.log(error);\n  }\n}\n",language:R,meta:S},children:[{type:a,tag:T,props:{},children:[{type:a,tag:w,props:{__ignoreMap:N},children:[{type:a,tag:b,props:{class:e,line:U},children:[{type:a,tag:b,props:{class:k},children:[{type:c,value:x}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:dd}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:I}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:u}]}]},{type:a,tag:b,props:{class:e,line:A},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:m}]},{type:a,tag:b,props:{class:n},children:[{type:c,value:Q}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:k},children:[{type:c,value:aV}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:ao},children:[{type:c,value:Y}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:aC}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:aw}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:v}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:aK}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:$}]},{type:a,tag:b,props:{class:k},children:[{type:c,value:P}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:B}]}]},{type:a,tag:b,props:{class:e,line:V},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:y}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:bC}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:bD}]},{type:a,tag:b,props:{class:k},children:[{type:c,value:P}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:B}]}]},{type:a,tag:b,props:{class:e,line:W},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:ap}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:aK}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:k},children:[{type:c,value:aV}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:"Error"}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:au},children:[{type:c,value:"'不用等了,别傻了'"}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:"));\n"}]}]},{type:a,tag:b,props:{class:e,line:X},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:bE}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:I}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:r}]}]},{type:a,tag:b,props:{class:e,line:Z},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:bi}]}]},{type:a,tag:b,props:{class:e,line:_},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:L}]}]},{type:a,tag:b,props:{class:e,line:af},children:[{type:a,tag:b,props:{},children:[{type:c,value:as}]}]},{type:a,tag:b,props:{class:e,line:ag},children:[{type:a,tag:b,props:{class:k},children:[{type:c,value:F}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:k},children:[{type:c,value:x}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:aG}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:C}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:v}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:I}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:u}]}]},{type:a,tag:b,props:{class:e,line:ah},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:m}]},{type:a,tag:b,props:{class:n},children:[{type:c,value:aT}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:B}]}]},{type:a,tag:b,props:{class:e,line:ai},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:y}]},{type:a,tag:b,props:{class:k},children:[{type:c,value:q}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:M}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:p}]},{type:a,tag:b,props:{class:n},children:[{type:c,value:D}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:ao},children:[{type:c,value:Y}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:o}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:"race"}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:cP}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:ay}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:C}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:cQ}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:dd}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:I}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:cR}]}]},{type:a,tag:b,props:{class:e,line:aj},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:y}]},{type:a,tag:b,props:{class:n},children:[{type:c,value:Q}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:M}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:O}]}]},{type:a,tag:b,props:{class:e,line:ak},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:aU}]},{type:a,tag:b,props:{class:n},children:[{type:c,value:aA}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:ab}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:ac}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:u}]}]},{type:a,tag:b,props:{class:e,line:al},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:y}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:G}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:o}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:H}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:ac}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:r}]}]},{type:a,tag:b,props:{class:e,line:am},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:aB}]}]},{type:a,tag:b,props:{class:e,line:an},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:aa}]}]}]}]}]},{type:a,tag:z,props:{},children:[{type:c,value:"这里使用 Promise.race 处理超时,要注意的是,如果超时了,请求还是没有终止的,只是不再进行后续处理。当然也不用担心,后续处理会报错而导致重新处理出错信息, 因为 promise 的状态一经改变是不会再改变的"}]},{type:a,tag:ax,props:{id:de},children:[{type:c,value:df}]},{type:a,tag:z,props:{},children:[{type:c,value:"在并发请求的场景中,如果需要大量并发,必须要进行并发限制,不然会被网站屏蔽或者造成进程崩溃"}]},{type:a,tag:w,props:{code:"async function getImages(urls, limit) {\n  let running = 0;\n  let r;\n  let p = new Promise((resolve, reject) =\u003E {\n    r = resolve;\n  });\n  function run() {\n    if (running \u003C limit && urls.length \u003E 0) {\n      running++;\n      let url = urls.shift();\n      (async () =\u003E {\n        let img = await getImage(url);\n        running--;\n        console.log(img);\n        if (urls.length === 0 && running === 0) {\n          console.log('done');\n          return r('done');\n        } else {\n          run();\n        }\n      })();\n      run(); \u002F\u002F 立即到并发上限\n    }\n  }\n  run();\n  return await p;\n}\n",language:R,meta:S},children:[{type:a,tag:T,props:{},children:[{type:a,tag:w,props:{__ignoreMap:N},children:[{type:a,tag:b,props:{class:e,line:U},children:[{type:a,tag:b,props:{class:k},children:[{type:c,value:F}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:k},children:[{type:c,value:x}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:"getImages"}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:bk}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:v}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:dg}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:u}]}]},{type:a,tag:b,props:{class:e,line:A},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:m}]},{type:a,tag:b,props:{class:k},children:[{type:c,value:q}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:aW}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:p}]},{type:a,tag:b,props:{class:E},children:[{type:c,value:aR}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:O}]}]},{type:a,tag:b,props:{class:e,line:V},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:m}]},{type:a,tag:b,props:{class:k},children:[{type:c,value:q}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:bF}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:O}]}]},{type:a,tag:b,props:{class:e,line:W},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:m}]},{type:a,tag:b,props:{class:k},children:[{type:c,value:q}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:z}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:p}]},{type:a,tag:b,props:{class:k},children:[{type:c,value:aV}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:ao},children:[{type:c,value:Y}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:aC}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:aw}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:v}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:aK}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:$}]},{type:a,tag:b,props:{class:k},children:[{type:c,value:P}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:B}]}]},{type:a,tag:b,props:{class:e,line:X},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:y}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:bF}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:p}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:aw}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:O}]}]},{type:a,tag:b,props:{class:e,line:Z},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:bi}]}]},{type:a,tag:b,props:{class:e,line:_},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:m}]},{type:a,tag:b,props:{class:k},children:[{type:c,value:x}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:aL}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:aX}]}]},{type:a,tag:b,props:{class:e,line:af},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:y}]},{type:a,tag:b,props:{class:n},children:[{type:c,value:bl}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:ab}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:aW}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:" \u003C "}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:dg}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:dh}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:bk}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:o}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:di}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:" \u003E "}]},{type:a,tag:b,props:{class:E},children:[{type:c,value:aR}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:u}]}]},{type:a,tag:b,props:{class:e,line:ag},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:ap}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:aW}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:"++;\n"}]}]},{type:a,tag:b,props:{class:e,line:ah},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:ap}]},{type:a,tag:b,props:{class:k},children:[{type:c,value:q}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:C}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:p}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:bk}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:o}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:"shift"}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:ad}]}]},{type:a,tag:b,props:{class:e,line:ai},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:"      ("}]},{type:a,tag:b,props:{class:k},children:[{type:c,value:F}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:" () "}]},{type:a,tag:b,props:{class:k},children:[{type:c,value:P}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:B}]}]},{type:a,tag:b,props:{class:e,line:aj},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:aM}]},{type:a,tag:b,props:{class:k},children:[{type:c,value:q}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:M}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:p}]},{type:a,tag:b,props:{class:n},children:[{type:c,value:D}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:ay}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:C}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:r}]}]},{type:a,tag:b,props:{class:e,line:ak},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:aM}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:aW}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:"--;\n"}]}]},{type:a,tag:b,props:{class:e,line:al},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:aM}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:G}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:o}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:H}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:M}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:r}]}]},{type:a,tag:b,props:{class:e,line:am},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:aM}]},{type:a,tag:b,props:{class:n},children:[{type:c,value:bl}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:ab}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:bk}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:o}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:di}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:dj}]},{type:a,tag:b,props:{class:E},children:[{type:c,value:aR}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:dh}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:aW}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:dj}]},{type:a,tag:b,props:{class:E},children:[{type:c,value:aR}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:u}]}]},{type:a,tag:b,props:{class:e,line:an},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:aD}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:G}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:o}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:H}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:au},children:[{type:c,value:bB}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:r}]}]},{type:a,tag:b,props:{class:e,line:az},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:aD}]},{type:a,tag:b,props:{class:n},children:[{type:c,value:Q}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:bF}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:au},children:[{type:c,value:bB}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:r}]}]},{type:a,tag:b,props:{class:e,line:aH},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:"        } "}]},{type:a,tag:b,props:{class:n},children:[{type:c,value:"else"}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:B}]}]},{type:a,tag:b,props:{class:e,line:aI},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:aD}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:aL}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:ad}]}]},{type:a,tag:b,props:{class:e,line:bf},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:"        }\n"}]}]},{type:a,tag:b,props:{class:e,line:bg},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:"      })();\n"}]}]},{type:a,tag:b,props:{class:e,line:bx},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:ap}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:aL}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:"(); "}]},{type:a,tag:b,props:{class:aS},children:[{type:c,value:"\u002F\u002F 立即到并发上限\n"}]}]},{type:a,tag:b,props:{class:e,line:by},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:dk}]}]},{type:a,tag:b,props:{class:e,line:bz},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:aB}]}]},{type:a,tag:b,props:{class:e,line:dl},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:m}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:aL}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:ad}]}]},{type:a,tag:b,props:{class:e,line:dm},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:m}]},{type:a,tag:b,props:{class:n},children:[{type:c,value:Q}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:n},children:[{type:c,value:D}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:z}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:O}]}]},{type:a,tag:b,props:{class:e,line:dn},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:aa}]}]}]}]}]},{type:a,tag:ax,props:{id:bm},children:[{type:c,value:bm}]},{type:a,tag:z,props:{},children:[{type:c,value:"以上列举了一些日常场景处理的代码片段,在遇到比较复杂场景时,可以结合以上的场景进行组合使用,如果场景过于复杂,最好的办法是使用相关的异步代码控制库。如果想更好地了解 async\u002Fawait 可以先去了解 promise 和 generator, async\u002Fawait 基本上是 generator 函数的语法糖,下面简单的描述了一下内部的原理。"}]},{type:a,tag:w,props:{code:"function delay(time) {\n  return new Promise((resolve, reject) =\u003E {\n    setTimeout(() =\u003E {\n        resolve(time)\n    }, time)\n  })\n}\nfunction *createTime() {\n  let time1 = yield delay(1000)\n  let time2 = yield delay(2000)\n  let time3 = yield delay(3000)\n  console.log(time1, time2, time3)\n}\nlet iterator = createTime()\nconsole.log(iterator.next())\nconsole.log(iterator.next(1000))\nconsole.log(iterator.next(2000))\nconsole.log(iterator.next(3000))\n\u002F\u002F 输出\n\n{ value: Promise { \u003Cpending\u003E }, done: false }\n\n{ value: Promise { \u003Cpending\u003E }, done: false }\n\n{ value: Promise { \u003Cpending\u003E }, done: false }\n\n1000 2000 3000\n\n{ value: undefined, done: true }\n\n",language:R,meta:S},children:[{type:a,tag:T,props:{},children:[{type:a,tag:w,props:{__ignoreMap:N},children:[{type:a,tag:b,props:{class:e,line:U},children:[{type:a,tag:b,props:{class:k},children:[{type:c,value:x}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:I}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:aq}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:u}]}]},{type:a,tag:b,props:{class:e,line:A},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:m}]},{type:a,tag:b,props:{class:n},children:[{type:c,value:Q}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:k},children:[{type:c,value:aV}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:ao},children:[{type:c,value:Y}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:aC}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:aw}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:v}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:aK}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:$}]},{type:a,tag:b,props:{class:k},children:[{type:c,value:P}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:B}]}]},{type:a,tag:b,props:{class:e,line:V},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:y}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:bC}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:bD}]},{type:a,tag:b,props:{class:k},children:[{type:c,value:P}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:B}]}]},{type:a,tag:b,props:{class:e,line:W},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:aM}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:aw}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:aq}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:K}]}]},{type:a,tag:b,props:{class:e,line:X},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:bE}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:aq}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:K}]}]},{type:a,tag:b,props:{class:e,line:Z},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:"  })\n"}]}]},{type:a,tag:b,props:{class:e,line:_},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:L}]}]},{type:a,tag:b,props:{class:e,line:af},children:[{type:a,tag:b,props:{class:k},children:[{type:c,value:x}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:k},children:[{type:c,value:"*"}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:aE}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:aX}]}]},{type:a,tag:b,props:{class:e,line:ag},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:m}]},{type:a,tag:b,props:{class:k},children:[{type:c,value:q}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:aN}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:p}]},{type:a,tag:b,props:{class:n},children:[{type:c,value:aO}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:I}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:E},children:[{type:c,value:bn}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:K}]}]},{type:a,tag:b,props:{class:e,line:ah},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:m}]},{type:a,tag:b,props:{class:k},children:[{type:c,value:q}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:ae}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:p}]},{type:a,tag:b,props:{class:n},children:[{type:c,value:aO}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:I}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:E},children:[{type:c,value:aY}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:K}]}]},{type:a,tag:b,props:{class:e,line:ai},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:m}]},{type:a,tag:b,props:{class:k},children:[{type:c,value:q}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:aP}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:p}]},{type:a,tag:b,props:{class:n},children:[{type:c,value:aO}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:I}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:E},children:[{type:c,value:bo}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:K}]}]},{type:a,tag:b,props:{class:e,line:aj},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:m}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:G}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:o}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:H}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:aN}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:v}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:ae}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:v}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:aP}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:K}]}]},{type:a,tag:b,props:{class:e,line:ak},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:L}]}]},{type:a,tag:b,props:{class:e,line:al},children:[{type:a,tag:b,props:{class:k},children:[{type:c,value:q}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:ar}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:p}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:aE}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:"()\n"}]}]},{type:a,tag:b,props:{class:e,line:am},children:[{type:a,tag:b,props:{class:g},children:[{type:c,value:G}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:o}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:H}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:ar}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:o}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:av}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:"())\n"}]}]},{type:a,tag:b,props:{class:e,line:an},children:[{type:a,tag:b,props:{class:g},children:[{type:c,value:G}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:o}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:H}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:ar}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:o}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:av}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:E},children:[{type:c,value:bn}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:bG}]}]},{type:a,tag:b,props:{class:e,line:az},children:[{type:a,tag:b,props:{class:g},children:[{type:c,value:G}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:o}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:H}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:ar}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:o}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:av}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:E},children:[{type:c,value:aY}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:bG}]}]},{type:a,tag:b,props:{class:e,line:aH},children:[{type:a,tag:b,props:{class:g},children:[{type:c,value:G}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:o}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:H}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:ar}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:o}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:av}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:E},children:[{type:c,value:bo}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:bG}]}]},{type:a,tag:b,props:{class:e,line:aI},children:[{type:a,tag:b,props:{class:aS},children:[{type:c,value:"\u002F\u002F 输出\n"}]}]},{type:a,tag:b,props:{class:e,line:bf},children:[{type:a,tag:b,props:{},children:[{type:c,value:as}]}]},{type:a,tag:b,props:{class:e,line:bg},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:"{ "}]},{type:a,tag:b,props:{class:"ct-b66a7e"},children:[{type:c,value:aZ}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:aF}]},{type:a,tag:b,props:{class:ao},children:[{type:c,value:Y}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:" { "}]},{type:a,tag:b,props:{class:do0},children:[{type:c,value:"\u003C"}]},{type:a,tag:b,props:{class:k},children:[{type:c,value:"pending"}]},{type:a,tag:b,props:{class:do0},children:[{type:c,value:"\u003E"}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:" }, done: false }\n"}]}]},{type:a,tag:b,props:{class:e,line:bx},children:[{type:a,tag:b,props:{},children:[{type:c,value:as}]}]},{type:a,tag:b,props:{class:e,line:by},children:[{type:a,tag:b,props:{class:k},children:[{type:c,value:bH}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:l},children:[{type:c,value:aZ}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:aF}]},{type:a,tag:b,props:{class:cN},children:[{type:c,value:Y}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:dp}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:bp}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:aF}]},{type:a,tag:b,props:{class:k},children:[{type:c,value:dq}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:k},children:[{type:c,value:L}]}]},{type:a,tag:b,props:{class:e,line:bz},children:[{type:a,tag:b,props:{},children:[{type:c,value:as}]}]},{type:a,tag:b,props:{class:e,line:dl},children:[{type:a,tag:b,props:{class:k},children:[{type:c,value:bH}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:aZ}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:aF}]},{type:a,tag:b,props:{class:ao},children:[{type:c,value:Y}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:dp}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:bp}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:aF}]},{type:a,tag:b,props:{class:k},children:[{type:c,value:dq}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:k},children:[{type:c,value:L}]}]},{type:a,tag:b,props:{class:e,line:dm},children:[{type:a,tag:b,props:{},children:[{type:c,value:as}]}]},{type:a,tag:b,props:{class:e,line:dn},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:"1000 2000 3000\n"}]}]},{type:a,tag:b,props:{class:e,line:28},children:[{type:a,tag:b,props:{},children:[{type:c,value:as}]}]},{type:a,tag:b,props:{class:e,line:29},children:[{type:a,tag:b,props:{class:k},children:[{type:c,value:bH}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:aZ}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:aF}]},{type:a,tag:b,props:{class:k},children:[{type:c,value:"undefined"}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:v}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:bp}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:aF}]},{type:a,tag:b,props:{class:k},children:[{type:c,value:"true"}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:k},children:[{type:c,value:aa}]}]}]}]}]},{type:a,tag:z,props:{},children:[{type:c,value:"可以看出每个 value 都是 Promise,并且通过手动传入参数到 next 就可以设置生成器内部的值,这里是手动传入,我只要写一个递归函数让其自动添进去就可以了"}]},{type:a,tag:w,props:{code:"function run(createTime) {\n  let iterator = createTime();\n  let result = iterator.next();\n  function autoRun() {\n    if (!result.done) {\n      Promise.resolve(result.value)\n        .then((time) =\u003E {\n          result = iterator.next(time);\n          autoRun();\n        })\n        .catch((err) =\u003E {\n          result = iterator.throw(err);\n          autoRun();\n        });\n    }\n  }\n  autoRun();\n}\nrun(createTime);\n",language:R,meta:S},children:[{type:a,tag:T,props:{},children:[{type:a,tag:w,props:{__ignoreMap:N},children:[{type:a,tag:b,props:{class:e,line:U},children:[{type:a,tag:b,props:{class:k},children:[{type:c,value:x}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:aL}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:aE}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:u}]}]},{type:a,tag:b,props:{class:e,line:A},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:m}]},{type:a,tag:b,props:{class:k},children:[{type:c,value:q}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:ar}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:p}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:aE}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:ad}]}]},{type:a,tag:b,props:{class:e,line:V},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:m}]},{type:a,tag:b,props:{class:k},children:[{type:c,value:q}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:a_}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:p}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:ar}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:o}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:av}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:ad}]}]},{type:a,tag:b,props:{class:e,line:W},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:m}]},{type:a,tag:b,props:{class:k},children:[{type:c,value:x}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:bq}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:aX}]}]},{type:a,tag:b,props:{class:e,line:X},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:y}]},{type:a,tag:b,props:{class:n},children:[{type:c,value:bl}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:" (!"}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:a_}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:o}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:bp}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:u}]}]},{type:a,tag:b,props:{class:e,line:Z},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:ap}]},{type:a,tag:b,props:{class:ao},children:[{type:c,value:Y}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:o}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:aw}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:a_}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:o}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:aZ}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:K}]}]},{type:a,tag:b,props:{class:e,line:_},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:dr}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:"then"}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:aC}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:aq}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:$}]},{type:a,tag:b,props:{class:k},children:[{type:c,value:P}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:B}]}]},{type:a,tag:b,props:{class:e,line:af},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:aD}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:a_}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:p}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:ar}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:o}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:av}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:aq}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:r}]}]},{type:a,tag:b,props:{class:e,line:ag},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:aD}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:bq}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:ad}]}]},{type:a,tag:b,props:{class:e,line:ah},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:"        })\n"}]}]},{type:a,tag:b,props:{class:e,line:ai},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:dr}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:aA}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:aC}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:bj}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:$}]},{type:a,tag:b,props:{class:"ct-c4ecf4"},children:[{type:c,value:P}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:B}]}]},{type:a,tag:b,props:{class:e,line:aj},children:[{type:a,tag:b,props:{class:f},children:[{type:c,value:aD}]},{type:a,tag:b,props:{class:l},children:[{type:c,value:a_}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:p}]},{type:a,tag:b,props:{class:l},children:[{type:c,value:ar}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:o}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:"throw"}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:bj}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:r}]}]},{type:a,tag:b,props:{class:e,line:ak},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:aD}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:bq}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:ad}]}]},{type:a,tag:b,props:{class:e,line:al},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:"        });\n"}]}]},{type:a,tag:b,props:{class:e,line:am},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:dk}]}]},{type:a,tag:b,props:{class:e,line:an},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:aB}]}]},{type:a,tag:b,props:{class:e,line:az},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:m}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:bq}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:ad}]}]},{type:a,tag:b,props:{class:e,line:aH},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:L}]}]},{type:a,tag:b,props:{class:e,line:aI},children:[{type:a,tag:b,props:{class:j},children:[{type:c,value:aL}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:aE}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:");"}]}]}]}]}]},{type:a,tag:z,props:{},children:[{type:c,value:"promise.resove 保证返回的是一个 promise 对象 可迭代对象除了有 next 方法还有 throw 方法用于往生成器内部传入错误,只要生成内部能捕获该对象,生成器就可以继承运行,类似下面的代码"}]},{type:a,tag:w,props:{code:"function delay(time) {\n  return new Promise((resolve, reject) =\u003E {\n    setTimeout(() =\u003E {\n      if (time == 2000) {\n        reject('2000错误');\n      }\n      resolve(time);\n    }, time);\n  });\n}\nfunction* createTime() {\n  let time1 = yield delay(1000);\n  let time2;\n  try {\n    time2 = yield delay(2000);\n  } catch (error) {\n    time2 = error;\n  }\n  let time3 = yield delay(3000);\n  console.log(time1, time2, time3);\n}\n",language:R,meta:S},children:[{type:a,tag:T,props:{},children:[{type:a,tag:w,props:{__ignoreMap:N},children:[{type:a,tag:b,props:{class:e,line:U},children:[{type:a,tag:b,props:{class:k},children:[{type:c,value:x}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:I}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:aq}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:u}]}]},{type:a,tag:b,props:{class:e,line:A},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:m}]},{type:a,tag:b,props:{class:n},children:[{type:c,value:Q}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:k},children:[{type:c,value:aV}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:ao},children:[{type:c,value:Y}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:aC}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:aw}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:v}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:aK}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:$}]},{type:a,tag:b,props:{class:k},children:[{type:c,value:P}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:B}]}]},{type:a,tag:b,props:{class:e,line:V},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:y}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:bC}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:bD}]},{type:a,tag:b,props:{class:k},children:[{type:c,value:P}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:B}]}]},{type:a,tag:b,props:{class:e,line:W},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:ap}]},{type:a,tag:b,props:{class:n},children:[{type:c,value:bl}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:ab}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:aq}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:" == "}]},{type:a,tag:b,props:{class:E},children:[{type:c,value:aY}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:u}]}]},{type:a,tag:b,props:{class:e,line:X},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:aM}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:aK}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:au},children:[{type:c,value:"'2000错误'"}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:r}]}]},{type:a,tag:b,props:{class:e,line:Z},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:"      }\n"}]}]},{type:a,tag:b,props:{class:e,line:_},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:ap}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:aw}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:aq}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:r}]}]},{type:a,tag:b,props:{class:e,line:af},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:bE}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:aq}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:r}]}]},{type:a,tag:b,props:{class:e,line:ag},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:bi}]}]},{type:a,tag:b,props:{class:e,line:ah},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:L}]}]},{type:a,tag:b,props:{class:e,line:ai},children:[{type:a,tag:b,props:{class:k},children:[{type:c,value:"function*"}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:aE}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:aX}]}]},{type:a,tag:b,props:{class:e,line:aj},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:m}]},{type:a,tag:b,props:{class:k},children:[{type:c,value:q}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:aN}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:p}]},{type:a,tag:b,props:{class:n},children:[{type:c,value:aO}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:I}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:E},children:[{type:c,value:bn}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:r}]}]},{type:a,tag:b,props:{class:e,line:ak},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:m}]},{type:a,tag:b,props:{class:k},children:[{type:c,value:q}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:ae}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:O}]}]},{type:a,tag:b,props:{class:e,line:al},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:m}]},{type:a,tag:b,props:{class:n},children:[{type:c,value:aT}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:B}]}]},{type:a,tag:b,props:{class:e,line:am},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:y}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:ae}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:p}]},{type:a,tag:b,props:{class:n},children:[{type:c,value:aO}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:I}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:E},children:[{type:c,value:aY}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:r}]}]},{type:a,tag:b,props:{class:e,line:an},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:aU}]},{type:a,tag:b,props:{class:n},children:[{type:c,value:aA}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:ab}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:ac}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:u}]}]},{type:a,tag:b,props:{class:e,line:az},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:y}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:ae}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:p}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:ac}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:O}]}]},{type:a,tag:b,props:{class:e,line:aH},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:aB}]}]},{type:a,tag:b,props:{class:e,line:aI},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:m}]},{type:a,tag:b,props:{class:k},children:[{type:c,value:q}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:aP}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:p}]},{type:a,tag:b,props:{class:n},children:[{type:c,value:aO}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:I}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:E},children:[{type:c,value:bo}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:r}]}]},{type:a,tag:b,props:{class:e,line:bf},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:m}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:G}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:o}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:H}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:aN}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:v}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:ae}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:v}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:aP}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:r}]}]},{type:a,tag:b,props:{class:e,line:bg},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:aa}]}]}]}]}]},{type:a,tag:z,props:{},children:[{type:c,value:"可以看出生成器函数其实和 async\u002Fawait 语法长得很像,只要改一下 async\u002Fawait 代码片段就是生成器函数了"}]},{type:a,tag:w,props:{code:"async function createTime() {\n  let time1 = await delay(1000);\n  let time2;\n  try {\n    time2 = await delay(2000);\n  } catch (error) {\n    time2 = error;\n  }\n  let time3 = await delay(3000);\n  console.log(time1, time2, time3);\n}\n\nfunction transform(async) {\n  let str = async.toString();\n  str = str.replace(\u002Fasync\\s+(function)\\s+\u002F, '$1 *').replace(\u002Fawait\u002Fg, 'yield');\n  return str;\n}\n",language:R,meta:S},children:[{type:a,tag:T,props:{},children:[{type:a,tag:w,props:{__ignoreMap:N},children:[{type:a,tag:b,props:{class:e,line:U},children:[{type:a,tag:b,props:{class:k},children:[{type:c,value:F}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:k},children:[{type:c,value:x}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:aE}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:aX}]}]},{type:a,tag:b,props:{class:e,line:A},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:m}]},{type:a,tag:b,props:{class:k},children:[{type:c,value:q}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:aN}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:p}]},{type:a,tag:b,props:{class:n},children:[{type:c,value:D}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:I}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:E},children:[{type:c,value:bn}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:r}]}]},{type:a,tag:b,props:{class:e,line:V},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:m}]},{type:a,tag:b,props:{class:k},children:[{type:c,value:q}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:ae}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:O}]}]},{type:a,tag:b,props:{class:e,line:W},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:m}]},{type:a,tag:b,props:{class:n},children:[{type:c,value:aT}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:B}]}]},{type:a,tag:b,props:{class:e,line:X},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:y}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:ae}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:p}]},{type:a,tag:b,props:{class:n},children:[{type:c,value:D}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:j},children:[{type:c,value:I}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:E},children:[{type:c,value:aY}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:r}]}]},{type:a,tag:b,props:{class:e,line:Z},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:aU}]},{type:a,tag:b,props:{class:n},children:[{type:c,value:aA}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:ab}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:ac}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:u}]}]},{type:a,tag:b,props:{class:e,line:_},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:y}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:ae}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:p}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:ac}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:O}]}]},{type:a,tag:b,props:{class:e,line:af},children:[{type:a,tag:b,props:{class:f},children:[{type:c,value:aB}]}]},{type:a,tag:b,props:{class:e,line:ag},children:[{type:a,tag:b,props:{class:f},children:[{type:c,value:m}]},{type:a,tag:b,props:{class:s},children:[{type:c,value:q}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:l},children:[{type:c,value:aP}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:p}]},{type:a,tag:b,props:{class:at},children:[{type:c,value:D}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:t},children:[{type:c,value:I}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:cF},children:[{type:c,value:bo}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:r}]}]},{type:a,tag:b,props:{class:e,line:ah},children:[{type:a,tag:b,props:{class:f},children:[{type:c,value:m}]},{type:a,tag:b,props:{class:l},children:[{type:c,value:G}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:o}]},{type:a,tag:b,props:{class:t},children:[{type:c,value:H}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:l},children:[{type:c,value:aN}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:v}]},{type:a,tag:b,props:{class:l},children:[{type:c,value:ae}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:v}]},{type:a,tag:b,props:{class:l},children:[{type:c,value:aP}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:r}]}]},{type:a,tag:b,props:{class:e,line:ai},children:[{type:a,tag:b,props:{class:f},children:[{type:c,value:L}]}]},{type:a,tag:b,props:{class:e,line:aj},children:[{type:a,tag:b,props:{},children:[{type:c,value:as}]}]},{type:a,tag:b,props:{class:e,line:ak},children:[{type:a,tag:b,props:{class:s},children:[{type:c,value:x}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:t},children:[{type:c,value:"transform"}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:g},children:[{type:c,value:F}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:u}]}]},{type:a,tag:b,props:{class:e,line:al},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:m}]},{type:a,tag:b,props:{class:k},children:[{type:c,value:q}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:l},children:[{type:c,value:br}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:p}]},{type:a,tag:b,props:{class:l},children:[{type:c,value:F}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:o}]},{type:a,tag:b,props:{class:t},children:[{type:c,value:"toString"}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:ad}]}]},{type:a,tag:b,props:{class:e,line:am},children:[{type:a,tag:b,props:{class:f},children:[{type:c,value:m}]},{type:a,tag:b,props:{class:l},children:[{type:c,value:br}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:p}]},{type:a,tag:b,props:{class:l},children:[{type:c,value:br}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:o}]},{type:a,tag:b,props:{class:t},children:[{type:c,value:ds}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:a$},children:[{type:c,value:"\u002Fasync\\s"}]},{type:a,tag:b,props:{class:dt},children:[{type:c,value:du}]},{type:a,tag:b,props:{class:J},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:a$},children:[{type:c,value:x}]},{type:a,tag:b,props:{class:J},children:[{type:c,value:cI}]},{type:a,tag:b,props:{class:a$},children:[{type:c,value:"\\s"}]},{type:a,tag:b,props:{class:dt},children:[{type:c,value:du}]},{type:a,tag:b,props:{class:a$},children:[{type:c,value:bu}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:v}]},{type:a,tag:b,props:{class:J},children:[{type:c,value:"'$1 *'"}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:bd}]},{type:a,tag:b,props:{class:t},children:[{type:c,value:ds}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:i}]},{type:a,tag:b,props:{class:a$},children:[{type:c,value:"\u002Fawait\u002F"}]},{type:a,tag:b,props:{class:s},children:[{type:c,value:"g"}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:v}]},{type:a,tag:b,props:{class:J},children:[{type:c,value:"'yield'"}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:r}]}]},{type:a,tag:b,props:{class:e,line:an},children:[{type:a,tag:b,props:{class:f},children:[{type:c,value:m}]},{type:a,tag:b,props:{class:at},children:[{type:c,value:Q}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:h}]},{type:a,tag:b,props:{class:l},children:[{type:c,value:br}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:O}]}]},{type:a,tag:b,props:{class:e,line:az},children:[{type:a,tag:b,props:{class:f},children:[{type:c,value:aa}]}]}]}]}]},{type:a,tag:"style",children:[{type:c,value:".ct-feeed1{color:#D7BA7D}\n.ct-2fc836{color:#D16969}\n.ct-024108{color:#808080}\n.ct-7a86cd{color:#C8C8C8}\n.ct-607e6c{color:#4EC9B0}\n.ct-a63b82{color:#B5CEA8}\n.ct-815aa5{color:#C586C0}\n.ct-21380c{color:#9CDCFE}\n.ct-61381f{color:#6A9955}\n.ct-61aa1e{color:#CE9178}\n.ct-844e39{color:#DCDCAA}\n.ct-a74b45{color:#4FC1FF}\n.ct-ac7fdf{color:#D4D4D4}\n.ct-a1ecf4{color:#569CD6}"}]}],toc:{title:N,searchDepth:A,depth:A,links:[{id:bc,depth:A,text:bc},{id:cu,depth:A,text:cv},{id:cJ,depth:A,text:cK},{id:c$,depth:A,text:da},{id:db,depth:A,text:dc},{id:de,depth:A,text:df},{id:bm,depth:A,text:bm}]}},_type:bv,_id:"content:articles:javaScript:AsyncAwaitScene.md",_source:"content",_file:"articles\u002FjavaScript\u002FAsyncAwaitScene.md",_extension:"md"}},prerenderedAt:1691467258991}}("element","span","text","ct-3416d0","line","ct-ac7fdf","ct-a1bc91"," ","(","ct-d020f3","ct-c49cb6","ct-21380c","  ","ct-0e8ed6","."," = ","let",");\n","ct-a1ecf4","ct-844e39",") {\n",", ","code","function","    ","p",2," {\n","url","await","ct-3283d3","async","console","log","delay","ct-61aa1e",")\n","}\n","img","",";\n","=\u003E","return","js",null,"pre",1,3,4,5,"Promise",6,7,") ","}"," (","error","();\n","time2",8,9,10,11,12,13,14,15,16,"ct-c29d9d","      ","time","iterator","\n","ct-815aa5","ct-e428fe","next","resolve","h2","getImage",17,"catch","  }\n","((","          ","createTime",": ","imageCrawler",18,19,"imageUrls","reject","run","        ","time1","yield","time3","ct-61381f","0","ct-a9ccb3","try","  } ","new","running","() {\n","2000","value","result","ct-2fc836","安装","使用说明","前言",").","res",20,21,"imageUrl","  });\n","err","urls","if","总结","1000","3000","done","autoRun","str","async\u002Fawait 异步应用的常用场景","\u002Farticles\u002Fjavascript\u002Fasyncawaitscene","\u002F","markdown",false,22,23,24,"name","'done'","setTimeout","(() ","    }, ","r","))\n","{","文章","\u002Farticles","Css","\u002Farticles\u002Fcss","BFC,层叠上下文,级联层","\u002Farticles\u002Fcss\u002Fbfcstackcascading","css 各种居中方法总结","\u002Farticles\u002Fcss\u002Fcsscenter","纯 css 实现数字自增的动画效果","\u002Farticles\u002Fcss\u002Fcsspropertyatrule","JavaScript","\u002Farticles\u002Fjavascript","柯里化在异步编程的应用","\u002Farticles\u002Fjavascript\u002Fcurryandasync","js 浮点数存储精度丢失原理","\u002Farticles\u002Fjavascript\u002Ffloatingpointlossprecision","es6 深入理解 Proxy 和 Reflect 这对影子兄弟","\u002Farticles\u002Fjavascript\u002Fproxyandreflect","移动端","\u002Farticles\u002Fmobile","真的，移动端尺寸自适应与 dpr 无关","\u002Farticles\u002Fmobile\u002Fselfadaptiveanddpr","浏览器插件","\u002Fbrowser_plugins","修改网页信息","\u002Fbrowser_plugins\u002Fmodifyingwebdata","\u002Fbrowser_plugins\u002Fmodifyingwebdata\u002Finstall","\u002Fbrowser_plugins\u002Fmodifyingwebdata\u002Freadme","通用文字识别","\u002Fbrowser_plugins\u002Funiversaltextrecognition","\u002Fbrowser_plugins\u002Funiversaltextrecognition\u002Finstall","\u002Fbrowser_plugins\u002Funiversaltextrecognition\u002Freadme","首页","\u002Ftest","工具","\u002Ftools","抖音评论爬取","\u002Ftools\u002Fdouyin","unicode 字符查询","\u002Ftools\u002Funicodesearch","场景-1-一个请求接着一个请求","场景 1. 一个请求接着一个请求","const","ct-a74b45","require","cheerio","getHTML","set","html","$","$img","ct-a63b82","href","handler",")","场景-2并发请求","场景 2.并发请求","schoolAdr","homeAdr","ct-607e6c","all","([","), ",")]);\n","info","${"," = [","'href1'","'href2'","'href3'","];\n","saveImages","saveImage","场景-3错误处理","场景 3.错误处理","场景-4-超时处理","场景 4. 超时处理","timeOut","场景-5-并发限制","场景 5. 并发限制","limit"," && ","length"," === ","    }\n",25,26,27,"ct-a25691"," { \u003Cpending\u003E }, ","false","        .","replace","ct-feeed1","+"))