import{e as L,b4 as R,aV as I,b5 as W,v as $,b6 as j,b7 as M,b8 as v,s as P,B,b9 as V,f as U,j as l,w as d,h as e,t as h,u as s,c as O,E as T,aZ as y,ba as z,k as Z,o as w,aI as F,q as G,p as J,l as K,m as Q}from"./entry.8fdf76cc.js";import X from"./ContentDoc.1f9d7f0a.js";import"./ContentRenderer.aa1034a1.js";import"./ContentRendererMarkdown.d26ca0bf.js";import"./index.0cc3f389.js";import"./ContentQuery.291e75ff.js";const A=c=>(J("data-v-58a2f6cb"),c=c(),K(),c),Y={class:"content-doc"},tt=A(()=>e("div",{class:"error"},[e("div",null,"当前页面不存在")],-1)),et=A(()=>e("div",{class:"error"},"无法获取到当前页面的数据",-1)),st={class:"error"},at={class:"nav"},ot={class:"nav-item nav-item-before"},nt={class:"dir-title"},it={class:"title"},rt={class:"nav-item nav-item-after"},ct={class:"dir-title"},_t={class:"title"},lt=L({__name:"[...slug]",async setup(c){let t,i;const q=R(),p=I(),u=W();function b(){const n=I();n.hash&&q.push(n.hash)}function E(){location.reload()}$(()=>{u.isHydrating||u.hook("page:transition:finish",b)}),j(()=>{u.hooks.removeHook("page:transition:finish",b)});const m=M(p.path),[a,o]=([t,i]=v(()=>y().only(["_path","title","_dir"]).where({_type:"markdown"}).findSurround(m).catch(()=>[null,null])),t=await t,i(),t),k=P(),x=P(),g=B(()=>p.path!=="/"&&a&&a._path.startsWith(z(m))),C=B(()=>p.path!=="/"&&o&&o._path.startsWith(z(m)));if(g.value){const n=V(a==null?void 0:a._path,"_dir"),{title:_}=([t,i]=v(()=>y().only("title").where({_path:n}).findOne().catch(()=>({title:""}))),t=await t,i(),t);k.value=_}if(C.value){const n=V(o==null?void 0:o._path,"_dir"),{title:_}=([t,i]=v(()=>y().only("title").where({_path:n}).findOne().catch(()=>({title:""}))),t=await t,i(),t);x.value=_}return(n,_)=>{var D,S;const f=G,H=X,N=Z;return w(),U("div",Y,[l(H,{class:"content"},{"not-found":d(()=>[tt]),empty:d(()=>[et,e("div",st,[F(" 刷新 "),l(f,{onClick:E,class:"refresh",size:"1.4em",name:"material-symbols:refresh"})])]),_:1}),e("nav",at,[e("div",ot,[e("div",nt,h(s(k)),1),s(g)?(w(),O(N,{key:0,class:"link",to:(D=s(a))==null?void 0:D._path},{default:d(()=>{var r;return[l(f,{size:"1em",style:{transform:"scale(-1, 1)"},name:"ic:baseline-arrow-forward"}),e("span",it,h((r=s(a))==null?void 0:r.title),1)]}),_:1},8,["to"])):T("",!0)]),e("div",rt,[e("div",ct,h(s(x)),1),s(C)?(w(),O(N,{key:0,class:"link",to:(S=s(o))==null?void 0:S._path},{default:d(()=>{var r;return[e("span",_t,h((r=s(o))==null?void 0:r.title),1),l(f,{size:"1em",name:"ic:baseline-arrow-forward"})]}),_:1},8,["to"])):T("",!0)])])])}}});const vt=Q(lt,[["__scopeId","data-v-58a2f6cb"]]);export{vt as default};
