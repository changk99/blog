import{G as q,e as _,H as ae,B as m,I as L,o as p,f as w,D as x,j as S,w as k,J as Z,h as b,K as f,u as a,t as I,L as j,T as G,M as J,N as re,O as le,P as A,Q as ie,R as K,S as ue,s as B,U as H,v as ce,V as de,W as pe,X as fe,c as C,z as me,E as T,Y as P,Z as ge,F as ye,$ as ve,a0 as he,a1 as Ce,a2 as be,a3 as F,a4 as Q,a5 as M,a6 as V,a7 as _e,a8 as $e,a9 as Te,aa as ke,m as we,q as Se}from"./entry.8fdf76cc.js";import{u as Ne}from"./use-global-config.af0e161a.js";const U={},Ee=q({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"}}),Be=["textContent"],Le=_({name:"ElBadge"}),Me=_({...Le,props:Ee,setup(e,{expose:t}){const s=e,n=ae("badge"),o=m(()=>s.isDot?"":L(s.value)&&L(s.max)?s.max<s.value?`${s.max}+`:`${s.value}`:`${s.value}`);return t({content:o}),(l,i)=>(p(),w("div",{class:f(a(n).b())},[x(l.$slots,"default"),S(G,{name:`${a(n).namespace.value}-zoom-in-center`,persisted:""},{default:k(()=>[Z(b("sup",{class:f([a(n).e("content"),a(n).em("content",l.type),a(n).is("fixed",!!l.$slots.default),a(n).is("dot",l.isDot)]),textContent:I(a(o))},null,10,Be),[[j,!l.hidden&&(a(o)||l.isDot)]])]),_:1},8,["name"])],2))}});var xe=J(Me,[["__file","/home/runner/work/element-plus/element-plus/packages/components/badge/src/badge.vue"]]);const Ie=re(xe),W=["success","info","warning","error"],u=ie({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:K?document.body:void 0}),Re=q({customClass:{type:String,default:u.customClass},center:{type:Boolean,default:u.center},dangerouslyUseHTMLString:{type:Boolean,default:u.dangerouslyUseHTMLString},duration:{type:Number,default:u.duration},icon:{type:le,default:u.icon},id:{type:String,default:u.id},message:{type:A([String,Object,Function]),default:u.message},onClose:{type:A(Function),required:!1},showClose:{type:Boolean,default:u.showClose},type:{type:String,values:W,default:u.type},offset:{type:Number,default:u.offset},zIndex:{type:Number,default:u.zIndex},grouping:{type:Boolean,default:u.grouping},repeatNum:{type:Number,default:u.repeatNum}}),ze={destroy:()=>!0},c=ue([]),De=e=>{const t=c.findIndex(o=>o.id===e),s=c[t];let n;return t>0&&(n=c[t-1]),{current:s,prev:n}},Oe=e=>{const{prev:t}=De(e);return t?t.vm.exposed.bottom.value:0},Ae=(e,t)=>c.findIndex(n=>n.id===e)>0?20:t,He=["id"],Pe=["innerHTML"],Fe=_({name:"ElMessage"}),Ve=_({...Fe,props:Re,emits:ze,setup(e,{expose:t}){const s=e,{Close:n}=he,{ns:o,zIndex:l}=Ne("message"),{currentZIndex:i,nextZIndex:d}=l,g=B(),v=B(!1),h=B(0);let N;const Y=m(()=>s.type?s.type==="error"?"danger":s.type:"info"),ee=m(()=>{const r=s.type;return{[o.bm("icon",r)]:r&&H[r]}}),R=m(()=>s.icon||H[s.type]||""),se=m(()=>Oe(s.id)),z=m(()=>Ae(s.id,s.offset)+se.value),te=m(()=>h.value+z.value),ne=m(()=>({top:`${z.value}px`,zIndex:i.value}));function E(){s.duration!==0&&({stop:N}=Ce(()=>{$()},s.duration))}function D(){N==null||N()}function $(){v.value=!1}function oe({code:r}){r===be.esc&&$()}return ce(()=>{E(),d(),v.value=!0}),de(()=>s.repeatNum,()=>{D(),E()}),pe(document,"keydown",oe),fe(g,()=>{h.value=g.value.getBoundingClientRect().height}),t({visible:v,bottom:te,close:$}),(r,O)=>(p(),C(G,{name:a(o).b("fade"),onBeforeLeave:r.onClose,onAfterLeave:O[0]||(O[0]=Ye=>r.$emit("destroy")),persisted:""},{default:k(()=>[Z(b("div",{id:r.id,ref_key:"messageRef",ref:g,class:f([a(o).b(),{[a(o).m(r.type)]:r.type&&!r.icon},a(o).is("center",r.center),a(o).is("closable",r.showClose),r.customClass]),style:me(a(ne)),role:"alert",onMouseenter:D,onMouseleave:E},[r.repeatNum>1?(p(),C(a(Ie),{key:0,value:r.repeatNum,type:a(Y),class:f(a(o).e("badge"))},null,8,["value","type","class"])):T("v-if",!0),a(R)?(p(),C(a(P),{key:1,class:f([a(o).e("icon"),a(ee)])},{default:k(()=>[(p(),C(ge(a(R))))]),_:1},8,["class"])):T("v-if",!0),x(r.$slots,"default",{},()=>[r.dangerouslyUseHTMLString?(p(),w(ye,{key:1},[T(" Caution here, message could've been compromised, never use user's input as message "),b("p",{class:f(a(o).e("content")),innerHTML:r.message},null,10,Pe)],2112)):(p(),w("p",{key:0,class:f(a(o).e("content"))},I(r.message),3))]),r.showClose?(p(),C(a(P),{key:2,class:f(a(o).e("closeBtn")),onClick:ve($,["stop"])},{default:k(()=>[S(a(n))]),_:1},8,["class","onClick"])):T("v-if",!0)],46,He),[[j,v.value]])]),_:3},8,["name","onBeforeLeave"]))}});var Ue=J(Ve,[["__file","/home/runner/work/element-plus/element-plus/packages/components/message/src/message.vue"]]);let qe=1;const X=e=>{const t=!e||F(e)||Q(e)||M(e)?{message:e}:e,s={...u,...t};if(!s.appendTo)s.appendTo=document.body;else if(F(s.appendTo)){let n=document.querySelector(s.appendTo);_e(n)||(n=document.body),s.appendTo=n}return s},Ze=e=>{const t=c.indexOf(e);if(t===-1)return;c.splice(t,1);const{handler:s}=e;s.close()},je=({appendTo:e,...t},s)=>{const n=`message_${qe++}`,o=t.onClose,l=document.createElement("div"),i={...t,id:n,onClose:()=>{o==null||o(),Ze(h)},onDestroy:()=>{V(null,l)}},d=S(Ue,i,M(i.message)||Q(i.message)?{default:M(i.message)?i.message:()=>i.message}:null);d.appContext=s||y._context,V(d,l),e.appendChild(l.firstElementChild);const g=d.component,h={id:n,vnode:d,vm:g,handler:{close:()=>{g.exposed.visible.value=!1}},props:d.component.props};return h},y=(e={},t)=>{if(!K)return{close:()=>{}};if(L(U.max)&&c.length>=U.max)return{close:()=>{}};const s=X(e);if(s.grouping&&c.length){const o=c.find(({vnode:l})=>{var i;return((i=l.props)==null?void 0:i.message)===s.message});if(o)return o.props.repeatNum+=1,o.props.type=s.type,o.handler}const n=je(s,t);return c.push(n),n.handler};W.forEach(e=>{y[e]=(t={},s)=>{const n=X(t);return y({...n,type:e},s)}});function Ge(e){for(const t of c)(!e||e===t.props.type)&&t.handler.close()}y.closeAll=Ge;y._context=null;const Je=$e(y,"$message");const{copy:Ke}=ke(),Qe=_({props:{code:{type:String,default:""},language:{type:String,default:null},filename:{type:String,default:null},highlights:{type:Array,default:()=>[]},meta:{type:String,default:null}},setup(){const e=Te();return{linkify:e.markdown&&e.markdown.linkify}},data(){return{linkifyRegExp:/(https?:\/\/[^\s\n)\]]+)|(?:[[(](#.+)[\])])|(?:[[(](\/[^\s\n]+)[\])])/g}},mounted(){if(!this.language&&this.linkify){const e=this.$refs.proseCodeRef,t=e.querySelector("pre code");t&&this._replace(t),e.addEventListener("click",this._navigate)}},unmounted(){this.$refs.proseCodeRef&&this.$refs.proseCodeRef.removeEventListener("click",this._navigate)},methods:{async copy(){await Ke(this.code),Je.success({message:"复制成功",customClass:"copy",duration:1e3})},_replace(e){if(e.nodeType===3){const t=e.textContent||"",s=t.replace(this.linkifyRegExp,(n,o,l,i)=>l?`<a href="${l}">${l.replace("#","")}</a>`:i?`(<a href="${i}">${i}</a>)`:`<a target="_blank" href="${o}">${o}</a>`);e.parentElement&&s!==t&&(e.parentElement.innerHTML=s)}if(e.nodeType===1){if(e.nodeName.toLocaleLowerCase()==="a")return;{const t=e.childNodes;for(let s=0;s<t.length;s++){const n=t[s];this._replace(n)}}}},_navigate(e){const t=e.target;if(t&&t.tagName.toLocaleLowerCase()==="a"){const s=t.getAttribute("href")||"";(t.getAttribute("target")||"_self")!=="_blank"&&(e.preventDefault(),this.$router.push(s))}}}});const We={class:"file-info"};function Xe(e,t,s,n,o,l){const i=Se;return p(),w("div",{ref:"proseCodeRef",class:f([e.language?"lang":"no-lang","prose-code"])},[b("div",We,I(e.filename?e.filename:e.language),1),x(e.$slots,"default"),b("div",{title:"复制",class:"copy",onClick:t[0]||(t[0]=(...d)=>e.copy&&e.copy(...d))},[S(i,{name:"material-symbols:copy-all-rounded"})])],2)}const ts=we(Qe,[["render",Xe]]);export{ts as default};
